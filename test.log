===========================================
TINC QUIC TEST - Tue Nov 11 23:15:02 MSK 2025
===========================================

=== Building Docker images ===
Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "default" instance using docker driver

#1 [node1 internal] load build definition from Dockerfile.optimized
#1 transferring dockerfile: 3.20kB done
#1 DONE 0.0s

#2 [node1 internal] load metadata for docker.io/library/ubuntu:22.04
#2 ...

#3 [node1 auth] library/ubuntu:pull token for registry-1.docker.io
#3 DONE 0.0s

#2 [node1 internal] load metadata for docker.io/library/ubuntu:22.04
#2 DONE 1.0s

#4 [node1 internal] load .dockerignore
#4 transferring context: 616B done
#4 DONE 0.0s

#5 [node1 tinc-builder 1/9] FROM docker.io/library/ubuntu:22.04@sha256:09506232a8004baa32c47d68f1e5c307d648fdd59f5e7eaa42aaf87914100db3
#5 DONE 0.0s

#6 [node1 internal] load build context
#6 transferring context: 1.62MB 0.5s done
#6 DONE 0.5s

#7 [node1 tinc-builder 2/9] RUN apt-get update && apt-get install -y     build-essential     autoconf     automake     libtool     libssl-dev     zlib1g-dev     liblzo2-dev     libncurses5-dev     libreadline-dev     && rm -rf /var/lib/apt/lists/*
#7 CACHED

#8 [node1 quiche-builder 2/6] RUN apt-get update && apt-get install -y     build-essential     curl     git     libssl-dev     pkg-config     cmake     libclang-dev     clang     && rm -rf /var/lib/apt/lists/*
#8 CACHED

#9 [node1 quiche-builder 3/6] RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
#9 CACHED

#10 [node1 quiche-builder 4/6] WORKDIR /build
#10 CACHED

#11 [node1 tinc-builder 4/9] COPY --from=quiche-builder /build/deps/quiche/target/release/libquiche.so /usr/lib/
#11 CACHED

#12 [node1 tinc-builder 6/9] RUN ldconfig
#12 CACHED

#13 [node1 tinc-builder 3/9] WORKDIR /build
#13 CACHED

#14 [node1 quiche-builder 5/6] COPY deps/quiche /build/deps/quiche
#14 CACHED

#15 [node1 quiche-builder 6/6] RUN cd deps/quiche &&     cargo build --release --features ffi,pkg-config-meta
#15 CACHED

#16 [node1 tinc-builder 5/9] COPY --from=quiche-builder /build/deps/quiche/quiche/include/quiche.h /usr/include/
#16 CACHED

#17 [node1 tinc-builder 7/9] COPY --from=quiche-builder /build/deps/quiche /build/deps/quiche
#17 CACHED

#18 [node1 tinc-builder 8/9] COPY . /build/
#18 DONE 34.3s

#19 [node1 tinc-builder 9/9] RUN autoreconf -fsi &&     ./configure         --prefix=/usr         --sysconfdir=/etc         --localstatedir=/var         --with-openssl         --enable-maintainer-mode &&     make &&     make install
#19 1.593 sh: 1: git: not found
#19 1.853 sh: 1: git: not found
#19 2.010 sh: 1: git: not found
#19 2.108 configure.ac:17: warning: The macro `AC_PROG_CC_STDC' is obsolete.
#19 2.108 configure.ac:17: You should run autoupdate.
#19 2.108 ./lib/autoconf/c.m4:1666: AC_PROG_CC_STDC is expanded from...
#19 2.108 configure.ac:17: the top level
#19 2.211 sh: 1: git: not found
#19 2.650 configure: WARNING: unrecognized options: --enable-maintainer-mode
#19 2.675 checking for a BSD-compatible install... /usr/bin/install -c
#19 2.682 checking whether build environment is sane... yes
#19 2.689 checking for a race-free mkdir -p... /usr/bin/mkdir -p
#19 2.690 checking for gawk... no
#19 2.690 checking for mawk... mawk
#19 2.690 checking whether make sets $(MAKE)... yes
#19 2.699 checking whether make supports nested variables... yes
#19 2.706 checking whether make supports nested variables... (cached) yes
#19 2.706 checking whether make supports the include directive... yes (GNU style)
#19 2.711 checking for gcc... gcc
#19 2.730 checking whether the C compiler works... yes
#19 2.771 checking for C compiler default output file name... a.out
#19 2.772 checking for suffix of executables... 
#19 2.792 checking whether we are cross compiling... no
#19 2.813 checking for suffix of object files... o
#19 2.825 checking whether the compiler supports GNU C... yes
#19 2.836 checking whether gcc accepts -g... yes
#19 2.846 checking for gcc option to enable C11 features... none needed
#19 2.873 checking whether gcc understands -c and -o together... yes
#19 2.892 checking dependency style of gcc... gcc3
#19 2.911 checking for stdio.h... yes
#19 2.922 checking for stdlib.h... yes
#19 2.936 checking for string.h... yes
#19 2.950 checking for inttypes.h... yes
#19 2.964 checking for stdint.h... yes
#19 2.979 checking for strings.h... yes
#19 2.994 checking for sys/stat.h... yes
#19 3.009 checking for sys/types.h... yes
#19 3.025 checking for unistd.h... yes
#19 3.043 checking for wchar.h... yes
#19 3.061 checking for minix/config.h... no
#19 3.080 checking whether it is safe to define __EXTENSIONS__... yes
#19 3.099 checking whether _XOPEN_SOURCE should be defined... no
#19 3.114 checking for gcc... (cached) gcc
#19 3.129 checking whether the compiler supports GNU C... (cached) yes
#19 3.129 checking whether gcc accepts -g... (cached) yes
#19 3.129 checking for gcc option to enable C11 features... (cached) none needed
#19 3.130 checking whether gcc understands -c and -o together... (cached) yes
#19 3.130 checking dependency style of gcc... (cached) gcc3
#19 3.130 checking how to run the C preprocessor... gcc -E
#19 3.158 checking for a sed that does not truncate output... /usr/bin/sed
#19 3.162 checking whether to build with code coverage support... no
#19 3.165 checking build system type... x86_64-pc-linux-gnu
#19 3.190 checking host system type... x86_64-pc-linux-gnu
#19 3.201 checking CFLAGS for maximum warnings... -Wall
#19 3.222 checking whether C compiler accepts -DFORTIFY_SOURCE=2... yes
#19 3.233 checking whether C compiler accepts -fwrapv... yes
#19 3.245 checking whether C compiler accepts -fPIE... yes
#19 3.256 checking whether the linker accepts -pie... yes
#19 3.277 checking whether the linker accepts -Wl,-z,relro... yes
#19 3.296 checking whether the linker accepts -Wl,-z,now... yes
#19 3.323 checking for syslog.h... yes
#19 3.341 checking for sys/file.h... yes
#19 3.360 checking for sys/ioctl.h... yes
#19 3.379 checking for sys/mman.h... yes
#19 3.398 checking for sys/param.h... yes
#19 3.417 checking for sys/resource.h... yes
#19 3.436 checking for sys/socket.h... yes
#19 3.456 checking for sys/time.h... yes
#19 3.475 checking for sys/un.h... yes
#19 3.493 checking for sys/wait.h... yes
#19 3.512 checking for netdb.h... yes
#19 3.533 checking for arpa/inet.h... yes
#19 3.554 checking for dirent.h... yes
#19 3.573 checking for getopt.h... yes
#19 3.596 checking for stddef.h... yes
#19 3.614 checking for net/if.h... yes
#19 3.650 checking for net/if_types.h... no
#19 3.688 checking for net/ethernet.h... yes
#19 3.724 checking for net/if_arp.h... yes
#19 3.761 checking for netinet/in_systm.h... yes
#19 3.799 checking for netinet/in.h... yes
#19 3.834 checking for netinet/in6.h... no
#19 3.869 checking for netpacket/packet.h... yes
#19 3.904 checking for netinet/if_ether.h... yes
#19 3.939 checking for netinet/ip.h... yes
#19 3.974 checking for netinet/ip6.h... yes
#19 4.010 checking for resolv.h... yes
#19 4.048 checking for netinet/tcp.h... yes
#19 4.085 checking for netinet/ip_icmp.h... yes
#19 4.122 checking for netinet/icmp6.h... yes
#19 4.163 checking for working __malloc__ attribute... yes
#19 4.175 checking for working __nonnull__ attribute... yes
#19 4.187 checking for working __warn_unused_result__ attribute... yes
#19 4.198 checking for struct ether_header... yes
#19 4.282 checking for struct arphdr... yes
#19 4.365 checking for struct ether_arp... yes
#19 4.446 checking for struct ip... yes
#19 4.530 checking for struct icmp... yes
#19 4.614 checking for struct ip6_hdr... yes
#19 4.697 checking for struct icmp6_hdr... yes
#19 4.776 checking for struct nd_neighbor_solicit... yes
#19 4.853 checking for struct nd_opt_hdr... yes
#19 4.932 checking for asprintf... yes
#19 4.954 checking for daemon... yes
#19 4.975 checking for fchmod... yes
#19 4.996 checking for flock... yes
#19 5.018 checking for fork... yes
#19 5.041 checking for gettimeofday... yes
#19 5.063 checking for mlockall... yes
#19 5.083 checking for putenv... yes
#19 5.105 checking for recvmmsg... yes
#19 5.126 checking for strsignal... yes
#19 5.147 checking for nanosleep... yes
#19 5.208 checking for unsetenv... yes
#19 5.229 checking for vsyslog... yes
#19 5.251 checking for devname... no
#19 5.276 checking for fdevname... no
#19 5.300 checking for getopt_long... yes
#19 5.322 checking for gcc options needed to detect all undeclared functions... none needed
#19 5.345 checking whether res_init is declared... yes
#19 5.368 checking for res_init in -lresolv... no
#19 5.391 checking for linux/if_tun.h... yes
#19 5.438 checking for curses.h... yes
#19 5.461 checking for initscr in -lncurses... yes
#19 5.485 checking for wtimeout in -ltinfo... yes
#19 5.533 checking for readline/readline.h... yes
#19 5.559 checking for readline/history.h... yes
#19 5.581 checking for readline in -lreadline... yes
#19 5.603 checking for zlib.h... yes
#19 5.625 checking for compress2 in -lz... yes
#19 5.647 checking for lzo1x_1_compress in -llzo2... yes
#19 5.670 checking for lzo/lzo1x.h... yes
#19 5.690 checking for dlopen... yes
#19 5.713 checking for openssl/evp.h... yes
#19 5.751 checking for openssl/rsa.h... yes
#19 5.782 checking for openssl/rand.h... yes
#19 5.822 checking for openssl/err.h... yes
#19 5.850 checking for openssl/sha.h... yes
#19 5.873 checking for openssl/pem.h... yes
#19 5.921 checking for openssl/engine.h... yes
#19 5.972 checking for EVP_EncryptInit_ex in -lcrypto... yes
#19 6.008 checking for SSL_new in -lssl... yes
#19 6.050 checking for RAND_bytes... yes
#19 6.092 checking for EVP_EncryptInit_ex... yes
#19 6.134 checking for EVP_CIPHER_CTX_new... yes
#19 6.175 checking whether OpenSSL_add_all_algorithms is declared... yes
#19 6.211 checking whether EVP_aes_256_cfb is declared... yes
#19 6.242 checking for BN_GENCB_new... yes
#19 6.281 checking for ERR_remove_state... yes
#19 6.318 checking for RSA_set0_key... yes
#19 6.355 checking for HMAC_CTX_new... yes
#19 6.403 checking that generated files are newer than configure... done
#19 6.403 configure: creating ./config.status
#19 6.454 config.status: creating Makefile
#19 6.463 config.status: creating src/Makefile
#19 6.473 config.status: creating doc/Makefile
#19 6.483 config.status: creating test/Makefile
#19 6.492 config.status: creating test/testlib.sh
#19 6.502 config.status: creating systemd/Makefile
#19 6.512 config.status: creating bash_completion.d/Makefile
#19 6.521 config.status: creating config.h
#19 6.523 config.status: config.h is unchanged
#19 6.535 config.status: executing depfiles commands
#19 6.560 configure: WARNING: unrecognized options: --enable-maintainer-mode
#19 6.583 make  all-recursive
#19 6.586 make[1]: Entering directory '/build'
#19 6.588 Making all in src
#19 6.615 make[2]: Entering directory '/build/src'
#19 6.616   CC       address_cache.o
#19 6.725   CC       autoconnect.o
#19 6.819   CC       conf.o
#19 6.942   CC       connection.o
#19 7.027   CC       control.o
#19 7.126   CC       dummy_device.o
#19 7.206   CC       edge.o
#19 7.309   CC       event.o
#19 7.383 event.c: In function 'signal_handler':
#19 7.383 event.c:236:9: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 7.383   236 |         write(pipefd[1], &num, 1);
#19 7.383       |         ^~~~~~~~~~~~~~~~~~~~~~~~~
#19 7.427   CC       fd_device.o
#19 7.526   CC       graph.o
#19 7.637   CC       logger.o
#19 7.702 logger.c: In function 'real_logger':
#19 7.702 logger.c:93:25: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 7.702    93 |                         write(umbilical, message, strlen(message));
#19 7.702       |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 7.702 logger.c:94:25: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 7.702    94 |                         write(umbilical, "\n", 1);
#19 7.702       |                         ^~~~~~~~~~~~~~~~~~~~~~~~~
#19 7.742   CC       meta.o
#19 7.855   CC       multicast_device.o
#19 7.948   CC       net.o
#19 8.076   CC       net_packet.o
#19 8.375   CC       net_setup.o
#19 8.607   CC       net_socket.o
#19 8.803   CC       netutl.o
#19 8.938   CC       node.o
#19 9.081   CC       process.o
#19 9.162   CC       protocol.o
#19 9.267   CC       protocol_auth.o
#19 9.336 protocol_auth.c: In function 'receive_invitation_sptps':
#19 9.336 protocol_auth.c:296:9: warning: ignoring return value of 'fgets' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 9.336   296 |         fgets(buf, sizeof(buf), f);
#19 9.336       |         ^~~~~~~~~~~~~~~~~~~~~~~~~~
#19 9.479   CC       protocol_edge.o
#19 9.586   CC       protocol_key.o
#19 9.724   CC       protocol_misc.o
#19 9.838   CC       protocol_subnet.o
#19 9.944   CC       raw_socket_device.o
#19 10.03   CC       route.o
#19 10.30   CC       script.o
#19 10.37 script.c: In function 'environment_add':
#19 10.37 script.c:83:17: warning: ignoring return value of 'vasprintf' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 10.37    83 |                 vasprintf(&env->entries[env->n], format, ap);
#19 10.37       |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 10.37 script.c: In function 'environment_update':
#19 10.37 script.c:96:9: warning: ignoring return value of 'vasprintf' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 10.37    96 |         vasprintf(&env->entries[pos], format, ap);
#19 10.37       |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 10.41   CC       subnet.o
#19 10.53   CC       subnet_parse.o
#19 10.67   CC       tincd.o
#19 10.76 tincd.c: In function 'main':
#19 10.76 tincd.c:396:9: warning: ignoring return value of 'chdir' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 10.76   396 |         chdir(confbase);
#19 10.76       |         ^~~~~~~~~~~~~~~
#19 10.76 tincd.c:551:17: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 10.76   551 |                 write(umbilical, "", 1);
#19 10.76       |                 ^~~~~~~~~~~~~~~~~~~~~~~
#19 10.81   GEN      version_git.h
#19 10.81   CC       version.o
#19 10.83   CC       quic/quic.o
#19 10.87 quic/quic.c:47:21: warning: 'DEFAULT_ALPN_LEN' defined but not used [-Wunused-const-variable=]
#19 10.87    47 | static const size_t DEFAULT_ALPN_LEN = sizeof(DEFAULT_ALPN) - 1;
#19 10.87       |                     ^~~~~~~~~~~~~~~~
#19 10.96   CC       quic/quic_transport.o
#19 11.23   CC       quic/quic_reality.o
#19 11.33 quic/quic_reality.c: In function 'quic_reality_proxy_data':
#19 11.33 quic/quic_reality.c:368:23: warning: 'buf' may be used uninitialized [-Wmaybe-uninitialized]
#19 11.33   368 |         ssize_t len = quic_conn_recv(client_conn, buf, sizeof(buf));
#19 11.33       |                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 11.33 In file included from quic/quic_reality.h:24,
#19 11.33                  from quic/quic_reality.c:31:
#19 11.33 quic/quic.h:150:16: note: by argument 2 of type 'const uint8_t *' {aka 'const unsigned char *'} to 'quic_conn_recv' declared here
#19 11.33   150 | extern ssize_t quic_conn_recv(quic_conn_t *qconn, const uint8_t *buf, size_t len);
#19 11.33       |                ^~~~~~~~~~~~~~
#19 11.33 quic/quic_reality.c:367:17: note: 'buf' declared here
#19 11.33   367 |         uint8_t buf[4096];
#19 11.33       |                 ^~~
#19 11.34   CC       quic/quic_fingerprint.o
#19 11.40   CC       linux/device.o
#19 11.51   CCLD     tincd
#19 11.57   CC       ifconfig.o
#19 11.68   CC       info.o
#19 11.80   CC       invitation.o
#19 12.04   CC       tincctl.o
#19 12.12 tincctl.c: In function 'ask_and_open':
#19 12.12 tincctl.c:392:17: warning: ignoring return value of 'getcwd' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 12.12   392 |                 getcwd(directory, sizeof(directory));
#19 12.12       |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 12.12 tincctl.c: In function 'cmd_start':
#19 12.12 tincctl.c:1076:17: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 12.12  1076 |                 write(2, buf, len);
#19 12.12       |                 ^~~~~~~~~~~~~~~~~~
#19 12.57   CC       top.o
#19 12.70   CCLD     tinc
#19 12.75 make[2]: Leaving directory '/build/src'
#19 12.75 Making all in doc
#19 12.75 make[2]: Entering directory '/build/doc'
#19 12.75 make[2]: Nothing to be done for 'all'.
#19 12.75 make[2]: Leaving directory '/build/doc'
#19 12.75 Making all in test
#19 12.75 make[2]: Entering directory '/build/test'
#19 12.75 make[2]: Nothing to be done for 'all'.
#19 12.75 make[2]: Leaving directory '/build/test'
#19 12.75 Making all in systemd
#19 12.75 make[2]: Entering directory '/build/systemd'
#19 12.75 make[2]: Nothing to be done for 'all'.
#19 12.75 make[2]: Leaving directory '/build/systemd'
#19 12.76 Making all in bash_completion.d
#19 12.76 make[2]: Entering directory '/build/bash_completion.d'
#19 12.76 make[2]: Nothing to be done for 'all'.
#19 12.76 make[2]: Leaving directory '/build/bash_completion.d'
#19 12.76 make[2]: Entering directory '/build'
#19 12.76 make[2]: Leaving directory '/build'
#19 12.76 make[1]: Leaving directory '/build'
#19 12.76 Making install in src
#19 12.79 make[1]: Entering directory '/build/src'
#19 12.79   GEN      version_git.h
#19 12.79   CC       version.o
#19 12.80   CCLD     tincd
#19 12.86   CCLD     tinc
#19 12.94 make[2]: Entering directory '/build/src'
#19 12.94   GEN      version_git.h
#19 12.94   CC       version.o
#19 12.95   CCLD     tincd
#19 13.02   CCLD     tinc
#19 13.06  /usr/bin/mkdir -p '/usr/sbin'
#19 13.06   /usr/bin/install -c tincd tinc '/usr/sbin'
#19 13.06 make[2]: Nothing to be done for 'install-data-am'.
#19 13.06 make[2]: Leaving directory '/build/src'
#19 13.06 make[1]: Leaving directory '/build/src'
#19 13.06 Making install in doc
#19 13.07 make[1]: Entering directory '/build/doc'
#19 13.07 make[2]: Entering directory '/build/doc'
#19 13.07 make[2]: Nothing to be done for 'install-exec-am'.
#19 13.07  /usr/bin/mkdir -p '/usr/share/info'
#19 13.07  /usr/bin/install -c -m 644 ./tinc.info '/usr/share/info'
#19 13.08  /usr/bin/mkdir -p '/usr/share/man/man5'
#19 13.08  /usr/bin/install -c -m 644 tinc.conf.5 '/usr/share/man/man5'
#19 13.08  /usr/bin/mkdir -p '/usr/share/man/man8'
#19 13.09  /usr/bin/install -c -m 644 tincd.8 tinc.8 tinc-gui.8 '/usr/share/man/man8'
#19 13.09 make[2]: Leaving directory '/build/doc'
#19 13.09 make[1]: Leaving directory '/build/doc'
#19 13.09 Making install in test
#19 13.09 make[1]: Entering directory '/build/test'
#19 13.09 make[2]: Entering directory '/build/test'
#19 13.09 make[2]: Nothing to be done for 'install-exec-am'.
#19 13.09 make[2]: Nothing to be done for 'install-data-am'.
#19 13.09 make[2]: Leaving directory '/build/test'
#19 13.09 make[1]: Leaving directory '/build/test'
#19 13.09 Making install in systemd
#19 13.09 make[1]: Entering directory '/build/systemd'
#19 13.10 make[2]: Entering directory '/build/systemd'
#19 13.10 make[2]: Nothing to be done for 'install-exec-am'.
#19 13.10 make[2]: Leaving directory '/build/systemd'
#19 13.10 make[1]: Leaving directory '/build/systemd'
#19 13.10 Making install in bash_completion.d
#19 13.10 make[1]: Entering directory '/build/bash_completion.d'
#19 13.10 make[2]: Entering directory '/build/bash_completion.d'
#19 13.10 make[2]: Nothing to be done for 'install-exec-am'.
#19 13.10  /usr/bin/mkdir -p '/usr/share/bash-completion/completions/'
#19 13.10  /usr/bin/install -c -m 644 tinc '/usr/share/bash-completion/completions/'
#19 13.10 make[2]: Leaving directory '/build/bash_completion.d'
#19 13.10 make[1]: Leaving directory '/build/bash_completion.d'
#19 13.11 make[1]: Entering directory '/build'
#19 13.11 make[2]: Entering directory '/build'
#19 13.11 make[2]: Nothing to be done for 'install-exec-am'.
#19 13.11 make[2]: Nothing to be done for 'install-data-am'.
#19 13.11 make[2]: Leaving directory '/build'
#19 13.11 make[1]: Leaving directory '/build'
#19 DONE 13.1s

#20 [node1 runtime 2/9] RUN apt-get update && apt-get install -y     libssl3     zlib1g     liblzo2-2     libncurses6     libreadline8     net-tools     iproute2     iputils-ping     && rm -rf /var/lib/apt/lists/*
#20 CACHED

#21 [node1 runtime 3/9] COPY --from=quiche-builder /build/deps/quiche/target/release/libquiche.so /usr/lib/
#21 CACHED

#22 [node1 runtime 4/9] COPY --from=tinc-builder /usr/sbin/tincd /usr/sbin/
#22 DONE 0.1s

#23 [node1 runtime 5/9] COPY --from=tinc-builder /usr/sbin/tinc /usr/sbin/
#23 DONE 0.0s

#24 [node1 runtime 6/9] RUN ldconfig
#24 DONE 0.3s

#25 [node1 runtime 7/9] RUN mkdir -p /etc/tinc /var/run /var/log
#25 DONE 0.2s

#26 [node1 runtime 8/9] COPY docker/scripts/entrypoint.sh /entrypoint.sh
#26 DONE 0.1s

#27 [node1 runtime 9/9] RUN chmod +x /entrypoint.sh
#27 DONE 0.3s

#28 [node1] exporting to image
#28 exporting layers 0.1s done
#28 writing image sha256:2e7d55fcacb18884e99e0032643c02e578e8686ad8fa08374619257da1bfadaa done
#28 naming to docker.io/library/tinc-vless:latest done
#28 DONE 0.1s

#29 [node1] resolving provenance for metadata file
#29 DONE 0.0s

=== Restarting containers ===

=== Container status ===
CONTAINER ID   IMAGE               COMMAND                  CREATED         STATUS                  PORTS                                       NAMES
a0624bef9ce9   tinc-vless:latest   "/entrypoint.sh tinc…"   3 seconds ago   Up Less than a second   0.0.0.0:6553->443/tcp, [::]:6553->443/tcp   tinc-node3
f1b6c463f772   tinc-vless:latest   "/entrypoint.sh tinc…"   3 seconds ago   Up Less than a second   0.0.0.0:6552->443/tcp, [::]:6552->443/tcp   tinc-node2
d5d980db969c   tinc-vless:latest   "/entrypoint.sh tinc…"   4 seconds ago   Up Less than a second   0.0.0.0:6551->443/tcp, [::]:6551->443/tcp   tinc-node1

=== Waiting 3 seconds for containers to initialize ===

==========================================
NETWORK INFORMATION
==========================================

--- node1 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.1/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::4f3d:e234:e61d:db49/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.1.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.1 
172.25.1.0/24 dev eth0 proto kernel scope link src 172.25.1.10 
172.25.2.0/24 dev eth1 proto kernel scope link src 172.25.2.10 

--- node2 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.2/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::1803:bfde:2ee3:6924/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.1.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.2 
172.25.1.0/24 dev eth0 proto kernel scope link src 172.25.1.11 

--- node3 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.3/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::4b62:e7d6:33f5:9bf3/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.2.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.3 
172.25.2.0/24 dev eth0 proto kernel scope link src 172.25.2.12 

==========================================
CONNECTIVITY TESTS
==========================================

--- node1 -> node2 (10.0.0.2) ---
PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
From 10.0.0.2 icmp_seq=1 Destination Net Unknown
From 10.0.0.2 icmp_seq=2 Destination Net Unknown

--- 10.0.0.2 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1084ms

FAILED

--- node1 -> node3 (10.0.0.3) ---
PING 10.0.0.3 (10.0.0.3) 56(84) bytes of data.
From 10.0.0.3 icmp_seq=1 Destination Net Unknown
From 10.0.0.3 icmp_seq=2 Destination Net Unknown

--- 10.0.0.3 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1104ms

FAILED

--- node2 -> node1 (10.0.0.1) ---
PING 10.0.0.1 (10.0.0.1) 56(84) bytes of data.
From 10.0.0.1 icmp_seq=1 Destination Net Unknown
From 10.0.0.1 icmp_seq=2 Destination Net Unknown

--- 10.0.0.1 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1107ms

FAILED

--- node2 -> node3 (10.0.0.3) ---
PING 10.0.0.3 (10.0.0.3) 56(84) bytes of data.
From 10.0.0.3 icmp_seq=1 Destination Net Unknown
From 10.0.0.3 icmp_seq=2 Destination Net Unknown

--- 10.0.0.3 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1086ms

FAILED

--- node3 -> node1 (10.0.0.1) ---
PING 10.0.0.1 (10.0.0.1) 56(84) bytes of data.
From 10.0.0.1 icmp_seq=1 Destination Net Unknown
From 10.0.0.1 icmp_seq=2 Destination Net Unknown

--- 10.0.0.1 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1105ms

FAILED

--- node3 -> node2 (10.0.0.2) ---
PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
From 10.0.0.2 icmp_seq=1 Destination Net Unknown
From 10.0.0.2 icmp_seq=2 Destination Net Unknown

--- 10.0.0.2 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1107ms

FAILED

==========================================
TINC STATE DUMPS
==========================================

--- node1 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node1 via node1 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
node2 id 641dda6330a1 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node3 id 50a8891922e7 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
=== Connections ===
node3 at 172.25.2.12 port 443 options 0 socket 0 status 300000
node3 at 172.25.2.12 port 443 options 0 socket 14 status 180000
node2 at 172.25.1.11 port 443 options 0 socket 0 status 300000
node2 at 172.25.1.11 port 443 options 0 socket 15 status 180000
<control> at localhost port unix options 0 socket 16 status 200
=== Edges ===

--- node2 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node2 id 641dda6330a1 at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node2 via node2 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
node3 id 50a8891922e7 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
=== Connections ===
(null) at 172.25.1.10 port 443 options 0 socket 0 status 180000
<control> at localhost port unix options 0 socket 14 status 200
=== Edges ===

--- node3 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node2 id 641dda6330a1 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node3 id 50a8891922e7 at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node3 via node3 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
=== Connections ===
(null) at 172.25.2.10 port 443 options 0 socket 0 status 180000
<control> at localhost port unix options 0 socket 14 status 200
=== Edges ===

==========================================
DETAILED LOGS (QUIC HANDSHAKE FOCUS)
==========================================

=== NODE1 LOGS ===
--- QUIC Initialization ---
QUIC[3264336534333162623865326363306537356564653834336232663564646665] handshake complete, ALPN='h3'
quiche: quiche: 2d3e431bb8e2cc0e75ede843b2f5ddfe tx pkt Handshake version=1 dcid=5f2e6c4def763f64f08e542ab3d4557a scid=2d3e431bb8e2cc0e75ede843b2f5ddfe len=45 pn=3 
quiche: quiche: 2d3e431bb8e2cc0e75ede843b2f5ddfe tx frm ACK delay=12 blocks=[1..2] ecn_counts=None
quiche: quiche: 2d3e431bb8e2cc0e75ede843b2f5ddfe tx frm CRYPTO off=0 len=36
quiche: quiche::recovery::congestion::recovery: 2d3e431bb8e2cc0e75ede843b2f5ddfe timer=4.526863ms latest_rtt=1.51535ms srtt=1.51535ms min_rtt=1.51535ms rttvar=757.675µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=103 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 748442, tv_nsec: 312080682 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 312080682 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.58 Mbps, is_app_limited: true, interval: 1.51535ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 310452380 }), send_elapsed: 0ns, ack_elapsed: 1.51535ms, rtt: 1.51535ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 11136041, last_update: Instant { tv_sec: 748442, tv_nsec: 312341483 }, next_time: Instant { tv_sec: 748442, tv_nsec: 312080682 }, max_datagram_size: 1350, last_packet_size: None, iv: 9.249µs, max_pacing_rate:
QUIC[3264336534333162623865326363306537356564653834336232663564646665] send: 103 bytes to 172.25.1.11:443 via fd=6 (first=0xee)
QUIC[3264336534333162623865326363306537356564653834336232663564646665] sendto OK: 103 bytes
QUIC[3264336534333162623865326363306537356564653834336232663564646665] sent 1 packets, 103 bytes total
QUIC state check for node2: established=1, connection=0x555d34c59bc0, quic_meta=1, quic_stream_id=-1, outgoing=(nil), initiated=0
QUIC handshake complete for node2, initiating metadata protocol
Created QUIC meta stream 0 for client
Created client QUIC meta stream 0 for node2 after handshake
QUIC connection, skipping VLESS (already encrypted with TLS 1.3)
Looking up QUIC connection for node node2 at address 172.25.1.11 port 443 (sa_family=2)
Found existing QUIC connection for node node2
QUIC meta: flushing 13 bytes from outbuf via stream 0 (handshake_complete=1)
Sent 13 bytes on QUIC meta stream 0
QUIC meta: sent 13 bytes on stream 0, calling quic_conn_send
quiche: quiche: 2d3e431bb8e2cc0e75ede843b2f5ddfe tx pkt Short dcid=5f2e6c4def763f64f08e542ab3d4557a key_phase=false len=18 pn=4 
quiche: quiche: 2d3e431bb8e2cc0e75ede843b2f5ddfe tx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche::recovery::congestion::recovery: 2d3e431bb8e2cc0e75ede843b2f5ddfe timer=4.472492ms latest_rtt=1.51535ms srtt=1.51535ms min_rtt=1.51535ms rttvar=757.675µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=155 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 748442, tv_nsec: 312080682 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 312080682 }, end_of_app_limited: 3, last_sent_packet: 4, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.58 Mbps, is_app_limited: true, interval: 1.51535ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 310452380 }), send_elapsed: 0ns, ack_elapsed: 1.51535ms, rtt: 1.51535ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 52, rate: 11136041, last_update: Instant { tv_sec: 748442, tv_nsec: 312341483 }, next_time: Instant { tv_sec: 748442, tv_nsec: 312417495 }, max_datagram_size: 1350, last_packet_size: Some(52), iv: 0ns, max_pacing_rate:
QUIC[3264336534333162623865326363306537356564653834336232663564646665] send: 52 bytes to 172.25.1.11:443 via fd=6 (first=0x44)
QUIC[3264336534333162623865326363306537356564653834336232663564646665] sendto OK: 52 bytes
QUIC[3264336534333162623865326363306537356564653834336232663564646665] sent 1 packets, 52 bytes total
QUIC packet processed: qconn->node=0x555d34bba480
QUIC node found: name=node2, connection=0x555d34c59bc0
QUIC checking connection: name=node2, quic_meta=1, quic_stream_id=0, outgoing=(nil)
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=435 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=266310201cc4f27a1bada9ab5d158c68 (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3236363331303230316363346632376131626164613961623564313538633638] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
Detected QUIC Short Header packet: first_byte=0x40
QUIC demux: received UDP len=39 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=609d49c48129f82af1841b55d9fd1d9c (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3630396434396334383132396638326166313834316235356439666431643963] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
Detected QUIC Short Header packet: first_byte=0x45

--- Errors & Warnings ---
QUIC[3232373934376134386439303763333736663638346435633437343338343336] recv failed: -3
Failed to process Initial packet: -1
QUIC[6136623566376564643934323633303162346665616334646266616632646330] recv failed: -3
Failed to process Initial packet: -1
QUIC[6332303535653337316531623438646464613365303366646263346261373466] recv failed: -3
Failed to process Initial packet: -1
QUIC[6431383833663832383164616366633532393064386432303364306239363337] recv failed: -3
Failed to process Initial packet: -1
QUIC[3331393639363936373437346338326433366530666438643137646431633162] recv failed: -3
Failed to process Initial packet: -1
QUIC[3034653363373438626163333761646636653365373533646239343337336262] recv failed: -3
Failed to process Initial packet: -1
QUIC[3236363331303230316363346632376131626164613961623564313538633638] recv failed: -3
Failed to process Initial packet: -1
QUIC[3630396434396334383132396638326166313834316235356439666431643963] recv failed: -3
Failed to process Initial packet: -1

=== NODE2 LOGS ===
--- QUIC Initialization ---
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a dropped invalid packet
QUIC[3566326536633464656637363366363466303865353432616233643435353761] handshake state: established=0 bytes_received=1200
QUIC packet processed: qconn->node=(nil)
QUIC packet has no associated node and no unbound meta found
Detected QUIC Long Header packet: first_byte=0xc0
QUIC demux: received UDP len=103 from 172.25.1.10:443
Parsed QUIC header: type=3 version=0x1 DCID=5f2e6c4def763f64f08e542ab3d4557a (len=16) SCID=2d3e431bb8e2cc0e75ede843b2f5ddfe (len=16)
lookup_connection_by_id() called for CID=5f2e6c4def763f64f08e542ab3d4557a (len=16)
Total registered CIDs in map: 9
lookup_connection_by_id() - FOUND connection for CID=5f2e6c4def763f64f08e542ab3d4557a
CID lookup SUCCESS: Found connection for DCID=5f2e6c4def763f64f08e542ab3d4557a
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a rx pkt Handshake version=1 dcid=5f2e6c4def763f64f08e542ab3d4557a scid=2d3e431bb8e2cc0e75ede843b2f5ddfe len=62 pn=3 
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a rx frm ACK delay=12 blocks=[1..2] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 5f2e6c4def763f64f08e542ab3d4557a packet newly acked 2
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a rx frm CRYPTO off=0 len=36
quiche: quiche::tls: 5f2e6c4def763f64f08e542ab3d4557a set read secret lvl=OneRTT
quiche: quiche::tls: 5f2e6c4def763f64f08e542ab3d4557a write message lvl=OneRTT len=396
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a dropped epoch 1 state
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a connection established: proto=Ok("h3") cipher=Some(AES128_GCM) curve=Some("X25519") sigalg=None resumed=false TransportParams { original_destination_connection_id: None, max_idle_timeout: 30000, stateless_reset_token: None, max_udp_payload_size: 1350, initial_max_data: 10485760, initial_max_stream_data_bidi_local: 6291456, initial_max_stream_data_bidi_remote: 6291456, initial_max_stream_data_uni: 6291456, initial_max_streams_bidi: 100, initial_max_streams_uni: 3, ack_delay_exponent: 3, max_ack_delay: 25, disable_active_migration: true, active_conn_id_limit: 2, initial_source_connection_id: Some(2d3e431bb8e2cc0e75ede843b2f5ddfe), retry_source_connection_id: None, max_datagram_frame_size: None, unknown_params: None }
QUIC[3566326536633464656637363366363466303865353432616233643435353761] handshake complete, ALPN='h3'
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a tx pkt Short dcid=2d3e431bb8e2cc0e75ede843b2f5ddfe key_phase=false len=401 pn=3 
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a tx frm HANDSHAKE_DONE
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a tx frm CRYPTO off=0 len=396
quiche: quiche::recovery::congestion::recovery: 5f2e6c4def763f64f08e542ab3d4557a timer=26.496999ms latest_rtt=465.052µs srtt=517.163µs min_rtt=465.052µs rttvar=165.499µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 2, rate_sample: RateSample { bandwidth: 19.27 Mbps, is_app_limited: true, interval: 674.105µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 311738227 }), send_elapsed: 209.053µs, ack_elapsed: 674.105µs, rtt: 465.052µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 435, rate: 32629944, last_update: Instant { tv_sec: 748442, tv_nsec: 312534778 }, next_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, max_datagram_size: 1350, last_packet_size: Some(435), iv: 0n
QUIC[3566326536633464656637363366363466303865353432616233643435353761] send: 435 bytes to 172.25.1.10:443 via fd=6 (first=0x40)
QUIC[3566326536633464656637363366363466303865353432616233643435353761] sendto OK: 435 bytes
QUIC[3566326536633464656637363366363466303865353432616233643435353761] sent 1 packets, 435 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
Created connection_t for unbound incoming QUIC from 172.25.1.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=52 from 172.25.1.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a rx pkt Short dcid=5f2e6c4def763f64f08e542ab3d4557a key_phase=false len=35 pn=4 
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a tx pkt Short dcid=2d3e431bb8e2cc0e75ede843b2f5ddfe key_phase=false len=5 pn=4 
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a tx frm ACK delay=2 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 5f2e6c4def763f64f08e542ab3d4557a timer=26.323119ms latest_rtt=465.052µs srtt=517.163µs min_rtt=465.052µs rttvar=165.499µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 19.27 Mbps, is_app_limited: true, interval: 674.105µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 311738227 }), send_elapsed: 209.053µs, ack_elapsed: 674.105µs, rtt: 465.052µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 32629944, last_update: Instant { tv_sec: 748442, tv_nsec: 312721189 }, next_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, max_datagram_size: 1350, last_packet_size: None, iv: 13.331µs
QUIC[3566326536633464656637363366363466303865353432616233643435353761] send: 39 bytes to 172.25.1.10:443 via fd=6 (first=0x45)
QUIC[3566326536633464656637363366363466303865353432616233643435353761] sendto OK: 39 bytes
QUIC[3566326536633464656637363366363466303865353432616233643435353761] sent 1 packets, 39 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
QUIC packet processed: qconn->node=(nil)
Detected QUIC Short Header packet: first_byte=0x40
Looking up QUIC connection for node node3 at address 172.25.2.12 port 443 (sa_family=2)
Found existing QUIC connection for node node3
QUIC connection to node3 already exists, reusing
Looking up QUIC connection for node node1 at address 172.25.1.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing

--- Errors & Warnings ---
QUIC[3762343734303664323535356262343862643961373763303331363766623232] recv failed: -3
Failed to process Initial packet: -1
QUIC[6534386162613730353036633432363136303664373436383266643934343063] recv failed: -3
Failed to process Initial packet: -1

=== NODE3 LOGS ===
--- QUIC Initialization ---
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx frm ACK delay=21 blocks=[0..0] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: f5b1aa983d76eff4bca3f13034587c8d packet newly acked 0
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx pkt Handshake version=1 dcid=f5b1aa983d76eff4bca3f13034587c8d scid=533277b2ce9d6300163fe6ec633e5688 len=22 pn=2 
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx frm ACK delay=9 blocks=[1..1] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: f5b1aa983d76eff4bca3f13034587c8d packet newly acked 1
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d dropped epoch 0 state
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d dropped invalid packet
QUIC[6635623161613938336437366566663462636133663133303334353837633864] handshake state: established=0 bytes_received=1200
QUIC packet processed: qconn->node=(nil)
QUIC packet has no associated node and no unbound meta found
Detected QUIC Long Header packet: first_byte=0xc0
QUIC demux: received UDP len=103 from 172.25.2.10:443
Parsed QUIC header: type=3 version=0x1 DCID=f5b1aa983d76eff4bca3f13034587c8d (len=16) SCID=533277b2ce9d6300163fe6ec633e5688 (len=16)
lookup_connection_by_id() called for CID=f5b1aa983d76eff4bca3f13034587c8d (len=16)
Total registered CIDs in map: 9
lookup_connection_by_id() - FOUND connection for CID=f5b1aa983d76eff4bca3f13034587c8d
CID lookup SUCCESS: Found connection for DCID=f5b1aa983d76eff4bca3f13034587c8d
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx pkt Handshake version=1 dcid=f5b1aa983d76eff4bca3f13034587c8d scid=533277b2ce9d6300163fe6ec633e5688 len=62 pn=3 
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx frm ACK delay=23 blocks=[1..2] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: f5b1aa983d76eff4bca3f13034587c8d packet newly acked 2
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx frm CRYPTO off=0 len=36
quiche: quiche::tls: f5b1aa983d76eff4bca3f13034587c8d set read secret lvl=OneRTT
quiche: quiche::tls: f5b1aa983d76eff4bca3f13034587c8d write message lvl=OneRTT len=396
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d dropped epoch 1 state
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d connection established: proto=Ok("h3") cipher=Some(AES128_GCM) curve=Some("X25519") sigalg=None resumed=false TransportParams { original_destination_connection_id: None, max_idle_timeout: 30000, stateless_reset_token: None, max_udp_payload_size: 1350, initial_max_data: 10485760, initial_max_stream_data_bidi_local: 6291456, initial_max_stream_data_bidi_remote: 6291456, initial_max_stream_data_uni: 6291456, initial_max_streams_bidi: 100, initial_max_streams_uni: 3, ack_delay_exponent: 3, max_ack_delay: 25, disable_active_migration: true, active_conn_id_limit: 2, initial_source_connection_id: Some(533277b2ce9d6300163fe6ec633e5688), retry_source_connection_id: None, max_datagram_frame_size: None, unknown_params: None }
QUIC[6635623161613938336437366566663462636133663133303334353837633864] handshake complete, ALPN='h3'
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d tx pkt Short dcid=533277b2ce9d6300163fe6ec633e5688 key_phase=false len=401 pn=3 
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d tx frm HANDSHAKE_DONE
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d tx frm CRYPTO off=0 len=396
quiche: quiche::recovery::congestion::recovery: f5b1aa983d76eff4bca3f13034587c8d timer=26.412603ms latest_rtt=672.079µs srtt=471.27µs min_rtt=464.678µs rttvar=141.781µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 2, rate_sample: RateSample { bandwidth: 19.27 Mbps, is_app_limited: true, interval: 835.091µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 271027851 }), send_elapsed: 163.012µs, ack_elapsed: 835.091µs, rtt: 672.079µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 435, rate: 35807498, last_update: Instant { tv_sec: 748442, tv_nsec: 271957976 }, next_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, max_datagram_size: 1350, last_packet_size: Some(435), iv: 0ns
QUIC[6635623161613938336437366566663462636133663133303334353837633864] send: 435 bytes to 172.25.2.10:443 via fd=6 (first=0x47)
QUIC[6635623161613938336437366566663462636133663133303334353837633864] sendto OK: 435 bytes
QUIC[6635623161613938336437366566663462636133663133303334353837633864] sent 1 packets, 435 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
Created connection_t for unbound incoming QUIC from 172.25.2.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=52 from 172.25.2.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx pkt Short dcid=f5b1aa983d76eff4bca3f13034587c8d key_phase=false len=35 pn=4 
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d tx pkt Short dcid=533277b2ce9d6300163fe6ec633e5688 key_phase=false len=5 pn=4 
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d tx frm ACK delay=6 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: f5b1aa983d76eff4bca3f13034587c8d timer=26.150433ms latest_rtt=672.079µs srtt=471.27µs min_rtt=464.678µs rttvar=141.781µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 19.27 Mbps, is_app_limited: true, interval: 835.091µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 271027851 }), send_elapsed: 163.012µs, ack_elapsed: 835.091µs, rtt: 672.079µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 35807498, last_update: Instant { tv_sec: 748442, tv_nsec: 272231040 }, next_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, max_datagram_size: 1350, last_packet_size: None, iv: 12.148µs,
QUIC[6635623161613938336437366566663462636133663133303334353837633864] send: 39 bytes to 172.25.2.10:443 via fd=6 (first=0x56)
QUIC[6635623161613938336437366566663462636133663133303334353837633864] sendto OK: 39 bytes
QUIC[6635623161613938336437366566663462636133663133303334353837633864] sent 1 packets, 39 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
QUIC packet processed: qconn->node=(nil)
Detected QUIC Short Header packet: first_byte=0x40

--- Errors & Warnings ---
QUIC[6332336631343031373434306331383138333861353136323135616632386639] recv failed: -3
Failed to process Initial packet: -1
QUIC[3339643665383634623862376361363430663033613762333538333063383330] recv failed: -3
Failed to process Initial packet: -1

==========================================
FULL LOGS (LAST 100 LINES EACH)
==========================================

=== NODE1 FULL LOG ===
QUIC meta: flushing 13 bytes from outbuf via stream 0 (handshake_complete=1)
Sent 13 bytes on QUIC meta stream 0
QUIC meta: sent 13 bytes on stream 0, calling quic_conn_send
quiche: quiche: 2d3e431bb8e2cc0e75ede843b2f5ddfe tx pkt Short dcid=5f2e6c4def763f64f08e542ab3d4557a key_phase=false len=18 pn=4 
quiche: quiche: 2d3e431bb8e2cc0e75ede843b2f5ddfe tx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche::recovery::congestion::recovery: 2d3e431bb8e2cc0e75ede843b2f5ddfe timer=4.472492ms latest_rtt=1.51535ms srtt=1.51535ms min_rtt=1.51535ms rttvar=757.675µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=155 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 748442, tv_nsec: 312080682 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 312080682 }, end_of_app_limited: 3, last_sent_packet: 4, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.58 Mbps, is_app_limited: true, interval: 1.51535ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 310452380 }), send_elapsed: 0ns, ack_elapsed: 1.51535ms, rtt: 1.51535ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 52, rate: 11136041, last_update: Instant { tv_sec: 748442, tv_nsec: 312341483 }, next_time: Instant { tv_sec: 748442, tv_nsec: 312417495 }, max_datagram_size: 1350, last_packet_size: Some(52), iv: 0ns, max_pacing_rate:
QUIC[3264336534333162623865326363306537356564653834336232663564646665] send: 52 bytes to 172.25.1.11:443 via fd=6 (first=0x44)
QUIC[3264336534333162623865326363306537356564653834336232663564646665] sendto OK: 52 bytes
QUIC[3264336534333162623865326363306537356564653834336232663564646665] sent 1 packets, 52 bytes total
QUIC packet processed: qconn->node=0x555d34bba480
QUIC node found: name=node2, connection=0x555d34c59bc0
QUIC checking connection: name=node2, quic_meta=1, quic_stream_id=0, outgoing=(nil)
quic_transport_is_enabled() = 1 (quic_manager=0x555d34bb9bc0, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x555d34bb9bc0, enabled=1)
QUIC demux: received UDP len=435 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=266310201cc4f27a1bada9ab5d158c68 (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3236363331303230316363346632376131626164613961623564313538633638] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
quic_transport_is_enabled() = 1 (quic_manager=0x555d34bb9bc0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x40
quic_transport_is_enabled() = 1 (quic_manager=0x555d34bb9bc0, enabled=1)
QUIC demux: received UDP len=39 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=609d49c48129f82af1841b55d9fd1d9c (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3630396434396334383132396638326166313834316235356439666431643963] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
quic_transport_is_enabled() = 1 (quic_manager=0x555d34bb9bc0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x45
Connection from localhost port unix
receive_request: conn=0x555d34c6e3a0 quic_meta=0 allow=0 raw='0 ^F29510F07669A8CD2D592C3B215E4A2FD22EE630494C0ACCC86839FE0E8D57F2 0'
Got ID from <control> (localhost port unix): 0 ^F29510F07669A8CD2D592C3B215E4A2FD22EE630494C0ACCC86839FE0E8D57F2 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x555d34c6e3a0 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b MYSELF port 443 0 0 0 0 700000c 850 node1 node1 0 1518 0 1518 1762892156 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x555d34c6ed20 quic_meta=0 allow=0 raw='0 ^F29510F07669A8CD2D592C3B215E4A2FD22EE630494C0ACCC86839FE0E8D57F2 0'
Got ID from <control> (localhost port unix): 0 ^F29510F07669A8CD2D592C3B215E4A2FD22EE630494C0ACCC86839FE0E8D57F2 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x555d34c6ed20 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 node3 172.25.2.12 port 443 0 0 300000
Sending 43 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node3 172.25.2.12 port 443 0 14 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node2 172.25.1.11 port 443 0 0 300000
Sending 43 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node2 172.25.1.11 port 443 0 15 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 16 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x555d34c6ed20 quic_meta=0 allow=0 raw='0 ^F29510F07669A8CD2D592C3B215E4A2FD22EE630494C0ACCC86839FE0E8D57F2 0'
Got ID from <control> (localhost port unix): 0 ^F29510F07669A8CD2D592C3B215E4A2FD22EE630494C0ACCC86839FE0E8D57F2 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x555d34c6ed20 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)

=== NODE2 FULL LOG ===
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.1.10 port 443
find_unbound: NO match found for 172.25.1.10 port 443 (checked 0 connections)
Could not find node for server connection from 172.25.1.10 port 443 - will bind via ID message
Created connection_t for unbound incoming QUIC from 172.25.1.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x648ce20c5ae0, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x648ce20c5ae0, enabled=1)
QUIC demux: received UDP len=52 from 172.25.1.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Found connection by peer address fallback
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a rx pkt Short dcid=5f2e6c4def763f64f08e542ab3d4557a key_phase=false len=35 pn=4 
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a tx pkt Short dcid=2d3e431bb8e2cc0e75ede843b2f5ddfe key_phase=false len=5 pn=4 
quiche: quiche: 5f2e6c4def763f64f08e542ab3d4557a tx frm ACK delay=2 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 5f2e6c4def763f64f08e542ab3d4557a timer=26.323119ms latest_rtt=465.052µs srtt=517.163µs min_rtt=465.052µs rttvar=165.499µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 19.27 Mbps, is_app_limited: true, interval: 674.105µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 311738227 }), send_elapsed: 209.053µs, ack_elapsed: 674.105µs, rtt: 465.052µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 32629944, last_update: Instant { tv_sec: 748442, tv_nsec: 312721189 }, next_time: Instant { tv_sec: 748442, tv_nsec: 312534778 }, max_datagram_size: 1350, last_packet_size: None, iv: 13.331µs
QUIC[3566326536633464656637363366363466303865353432616233643435353761] send: 39 bytes to 172.25.1.10:443 via fd=6 (first=0x45)
QUIC[3566326536633464656637363366363466303865353432616233643435353761] sendto OK: 39 bytes
QUIC[3566326536633464656637363366363466303865353432616233643435353761] sent 1 packets, 39 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
Unbound connection already exists for 172.25.1.10 port 443, skipping duplicate creation
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x648ce20c5ae0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x40
Trying to connect to node3 (172.25.2.12 port 443)
Looking up QUIC connection for node node3 at address 172.25.2.12 port 443 (sa_family=2)
Found existing QUIC connection for node node3
QUIC connection to node3 already exists, reusing
Trying to connect to node1 (172.25.1.10 port 443)
Looking up QUIC connection for node node1 at address 172.25.1.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing
Connection from localhost port unix
receive_request: conn=0x648ce21343e0 quic_meta=0 allow=0 raw='0 ^84294DD13A3D7BEE5F9C781D28560BFFFDE54D9919E90DD385C63385B66215EB 0'
Got ID from <control> (localhost port unix): 0 ^84294DD13A3D7BEE5F9C781D28560BFFFDE54D9919E90DD385C63385B66215EB 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x648ce21343e0 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 MYSELF port 443 0 0 0 0 700000c 850 node2 node2 0 1518 0 1518 1762892157 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x648ce21343e0 quic_meta=0 allow=0 raw='0 ^84294DD13A3D7BEE5F9C781D28560BFFFDE54D9919E90DD385C63385B66215EB 0'
Got ID from <control> (localhost port unix): 0 ^84294DD13A3D7BEE5F9C781D28560BFFFDE54D9919E90DD385C63385B66215EB 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x648ce21343e0 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 (null) 172.25.1.10 port 443 0 0 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 14 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x648ce21343e0 quic_meta=0 allow=0 raw='0 ^84294DD13A3D7BEE5F9C781D28560BFFFDE54D9919E90DD385C63385B66215EB 0'
Got ID from <control> (localhost port unix): 0 ^84294DD13A3D7BEE5F9C781D28560BFFFDE54D9919E90DD385C63385B66215EB 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x648ce21343e0 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)

=== NODE3 FULL LOG ===
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.2.10 port 443
find_unbound: NO match found for 172.25.2.10 port 443 (checked 0 connections)
Could not find node for server connection from 172.25.2.10 port 443 - will bind via ID message
Created connection_t for unbound incoming QUIC from 172.25.2.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x5c4baf989750, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x5c4baf989750, enabled=1)
QUIC demux: received UDP len=52 from 172.25.2.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Found connection by peer address fallback
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx pkt Short dcid=f5b1aa983d76eff4bca3f13034587c8d key_phase=false len=35 pn=4 
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d tx pkt Short dcid=533277b2ce9d6300163fe6ec633e5688 key_phase=false len=5 pn=4 
quiche: quiche: f5b1aa983d76eff4bca3f13034587c8d tx frm ACK delay=6 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: f5b1aa983d76eff4bca3f13034587c8d timer=26.150433ms latest_rtt=672.079µs srtt=471.27µs min_rtt=464.678µs rttvar=141.781µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, first_sent_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 19.27 Mbps, is_app_limited: true, interval: 835.091µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748442, tv_nsec: 271027851 }), send_elapsed: 163.012µs, ack_elapsed: 835.091µs, rtt: 672.079µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 35807498, last_update: Instant { tv_sec: 748442, tv_nsec: 272231040 }, next_time: Instant { tv_sec: 748442, tv_nsec: 271957976 }, max_datagram_size: 1350, last_packet_size: None, iv: 12.148µs,
QUIC[6635623161613938336437366566663462636133663133303334353837633864] send: 39 bytes to 172.25.2.10:443 via fd=6 (first=0x56)
QUIC[6635623161613938336437366566663462636133663133303334353837633864] sendto OK: 39 bytes
QUIC[6635623161613938336437366566663462636133663133303334353837633864] sent 1 packets, 39 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
Unbound connection already exists for 172.25.2.10 port 443, skipping duplicate creation
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x5c4baf989750, enabled=1)
Detected QUIC Short Header packet: first_byte=0x40
Read packet of 98 bytes from Linux tun/tap device (tun mode)
Cannot route packet from node3 (MYSELF port 443): unknown IPv4 destination address 10.0.0.2
Writing packet of 126 bytes to Linux tun/tap device (tun mode)
Connection from localhost port unix
receive_request: conn=0x5c4baf9f6ef0 quic_meta=0 allow=0 raw='0 ^AE3FC77D3322506B3C079AF62BFFEBD69349FD6CA6410E62B3505C010D5A0CC0 0'
Got ID from <control> (localhost port unix): 0 ^AE3FC77D3322506B3C079AF62BFFEBD69349FD6CA6410E62B3505C010D5A0CC0 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5c4baf9f6ef0 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 MYSELF port 443 0 0 0 0 700000c 850 node3 node3 0 1518 0 1518 1762892157 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5c4baf9f7130 quic_meta=0 allow=0 raw='0 ^AE3FC77D3322506B3C079AF62BFFEBD69349FD6CA6410E62B3505C010D5A0CC0 0'
Got ID from <control> (localhost port unix): 0 ^AE3FC77D3322506B3C079AF62BFFEBD69349FD6CA6410E62B3505C010D5A0CC0 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5c4baf9f7130 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 (null) 172.25.2.10 port 443 0 0 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 14 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5c4baf9f7370 quic_meta=0 allow=0 raw='0 ^AE3FC77D3322506B3C079AF62BFFEBD69349FD6CA6410E62B3505C010D5A0CC0 0'
Got ID from <control> (localhost port unix): 0 ^AE3FC77D3322506B3C079AF62BFFEBD69349FD6CA6410E62B3505C010D5A0CC0 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5c4baf9f7370 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Trying to connect to node2 (172.25.1.11 port 443)
Looking up QUIC connection for node node2 at address 172.25.1.11 port 443 (sa_family=2)
Found existing QUIC connection for node node2
QUIC connection to node2 already exists, reusing

===========================================
TEST COMPLETED - Tue Nov 11 23:16:07 MSK 2025
===========================================
