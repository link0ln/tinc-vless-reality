===========================================
TINC QUIC TEST - Tue Nov 11 23:25:31 MSK 2025
===========================================

=== Building Docker images ===
Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "default" instance using docker driver

#1 [node1 internal] load build definition from Dockerfile.optimized
#1 transferring dockerfile: 3.20kB done
#1 DONE 0.0s

#2 [node1 auth] library/ubuntu:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [node1 internal] load metadata for docker.io/library/ubuntu:22.04
#3 DONE 1.0s

#4 [node1 internal] load .dockerignore
#4 transferring context: 616B done
#4 DONE 0.0s

#5 [node1 tinc-builder 1/9] FROM docker.io/library/ubuntu:22.04@sha256:09506232a8004baa32c47d68f1e5c307d648fdd59f5e7eaa42aaf87914100db3
#5 DONE 0.0s

#6 [node1 internal] load build context
#6 transferring context: 1.56MB 0.5s done
#6 DONE 0.5s

#7 [node1 runtime 3/9] COPY --from=quiche-builder /build/deps/quiche/target/release/libquiche.so /usr/lib/
#7 CACHED

#8 [node1 runtime 8/9] COPY docker/scripts/entrypoint.sh /entrypoint.sh
#8 CACHED

#9 [node1 quiche-builder 2/6] RUN apt-get update && apt-get install -y     build-essential     curl     git     libssl-dev     pkg-config     cmake     libclang-dev     clang     && rm -rf /var/lib/apt/lists/*
#9 CACHED

#10 [node1 tinc-builder 4/9] COPY --from=quiche-builder /build/deps/quiche/target/release/libquiche.so /usr/lib/
#10 CACHED

#11 [node1 tinc-builder 9/9] RUN autoreconf -fsi &&     ./configure         --prefix=/usr         --sysconfdir=/etc         --localstatedir=/var         --with-openssl         --enable-maintainer-mode &&     make &&     make install
#11 CACHED

#12 [node1 tinc-builder 2/9] RUN apt-get update && apt-get install -y     build-essential     autoconf     automake     libtool     libssl-dev     zlib1g-dev     liblzo2-dev     libncurses5-dev     libreadline-dev     && rm -rf /var/lib/apt/lists/*
#12 CACHED

#13 [node1 quiche-builder 6/6] RUN cd deps/quiche &&     cargo build --release --features ffi,pkg-config-meta
#13 CACHED

#14 [node1 tinc-builder 3/9] WORKDIR /build
#14 CACHED

#15 [node1 tinc-builder 6/9] RUN ldconfig
#15 CACHED

#16 [node1 runtime 7/9] RUN mkdir -p /etc/tinc /var/run /var/log
#16 CACHED

#17 [node1 runtime 5/9] COPY --from=tinc-builder /usr/sbin/tinc /usr/sbin/
#17 CACHED

#18 [node1 tinc-builder 7/9] COPY --from=quiche-builder /build/deps/quiche /build/deps/quiche
#18 CACHED

#19 [node1 runtime 4/9] COPY --from=tinc-builder /usr/sbin/tincd /usr/sbin/
#19 CACHED

#20 [node1 tinc-builder 8/9] COPY . /build/
#20 CACHED

#21 [node1 tinc-builder 5/9] COPY --from=quiche-builder /build/deps/quiche/quiche/include/quiche.h /usr/include/
#21 CACHED

#22 [node1 quiche-builder 5/6] COPY deps/quiche /build/deps/quiche
#22 CACHED

#23 [node1 runtime 6/9] RUN ldconfig
#23 CACHED

#24 [node1 quiche-builder 3/6] RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
#24 CACHED

#25 [node1 runtime 2/9] RUN apt-get update && apt-get install -y     libssl3     zlib1g     liblzo2-2     libncurses6     libreadline8     net-tools     iproute2     iputils-ping     && rm -rf /var/lib/apt/lists/*
#25 CACHED

#26 [node1 quiche-builder 4/6] WORKDIR /build
#26 CACHED

#27 [node1 runtime 9/9] RUN chmod +x /entrypoint.sh
#27 CACHED

#28 [node1] exporting to image
#28 exporting layers done
#28 writing image sha256:2e7d55fcacb18884e99e0032643c02e578e8686ad8fa08374619257da1bfadaa done
#28 naming to docker.io/library/tinc-vless:latest done
#28 DONE 0.0s

#29 [node1] resolving provenance for metadata file
#29 DONE 0.0s

=== Restarting containers ===

=== Container status ===
CONTAINER ID   IMAGE               COMMAND                  CREATED         STATUS                  PORTS                                       NAMES
c3bce123d5f5   tinc-vless:latest   "/entrypoint.sh tinc…"   2 seconds ago   Up Less than a second   0.0.0.0:6553->443/tcp, [::]:6553->443/tcp   tinc-node3
bb4e951a0ffa   tinc-vless:latest   "/entrypoint.sh tinc…"   3 seconds ago   Up Less than a second   0.0.0.0:6552->443/tcp, [::]:6552->443/tcp   tinc-node2
3849c00782b3   tinc-vless:latest   "/entrypoint.sh tinc…"   3 seconds ago   Up 2 seconds            0.0.0.0:6551->443/tcp, [::]:6551->443/tcp   tinc-node1

=== Waiting 3 seconds for containers to initialize ===

==========================================
NETWORK INFORMATION
==========================================

--- node1 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.1/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::ce32:e631:bbb3:e7d9/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.1.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.1 
172.25.1.0/24 dev eth0 proto kernel scope link src 172.25.1.10 
172.25.2.0/24 dev eth1 proto kernel scope link src 172.25.2.10 

--- node2 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.2/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::59c1:8b36:a9fe:e87c/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.1.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.2 
172.25.1.0/24 dev eth0 proto kernel scope link src 172.25.1.11 

--- node3 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.3/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::8c08:4da2:ed30:3e0b/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.2.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.3 
172.25.2.0/24 dev eth0 proto kernel scope link src 172.25.2.12 

==========================================
CONNECTIVITY TESTS
==========================================

--- node1 -> node2 (10.0.0.2) ---
PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
From 10.0.0.2 icmp_seq=1 Destination Net Unknown
From 10.0.0.2 icmp_seq=2 Destination Net Unknown

--- 10.0.0.2 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1118ms

FAILED

--- node1 -> node3 (10.0.0.3) ---
PING 10.0.0.3 (10.0.0.3) 56(84) bytes of data.
From 10.0.0.3 icmp_seq=1 Destination Net Unknown
From 10.0.0.3 icmp_seq=2 Destination Net Unknown

--- 10.0.0.3 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1054ms

FAILED

--- node2 -> node1 (10.0.0.1) ---
PING 10.0.0.1 (10.0.0.1) 56(84) bytes of data.
From 10.0.0.1 icmp_seq=1 Destination Net Unknown
From 10.0.0.1 icmp_seq=2 Destination Net Unknown

--- 10.0.0.1 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1022ms

FAILED

--- node2 -> node3 (10.0.0.3) ---
PING 10.0.0.3 (10.0.0.3) 56(84) bytes of data.
From 10.0.0.3 icmp_seq=1 Destination Net Unknown
From 10.0.0.3 icmp_seq=2 Destination Net Unknown

--- 10.0.0.3 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1019ms

FAILED

--- node3 -> node1 (10.0.0.1) ---
PING 10.0.0.1 (10.0.0.1) 56(84) bytes of data.
From 10.0.0.1 icmp_seq=1 Destination Net Unknown
From 10.0.0.1 icmp_seq=2 Destination Net Unknown

--- 10.0.0.1 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1106ms

FAILED

--- node3 -> node2 (10.0.0.2) ---
PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
From 10.0.0.2 icmp_seq=1 Destination Net Unknown
From 10.0.0.2 icmp_seq=2 Destination Net Unknown

--- 10.0.0.2 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1121ms

FAILED

==========================================
TINC STATE DUMPS
==========================================

--- node1 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node1 via node1 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
node2 id 641dda6330a1 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node3 id 50a8891922e7 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
=== Connections ===
node2 at 172.25.1.11 port 443 options 0 socket 0 status 300000
node2 at 172.25.1.11 port 443 options 0 socket 14 status 180000
node3 at 172.25.2.12 port 443 options 0 socket 0 status 300000
node3 at 172.25.2.12 port 443 options 0 socket 15 status 180000
<control> at localhost port unix options 0 socket 16 status 200
=== Edges ===

--- node2 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node2 id 641dda6330a1 at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node2 via node2 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
node3 id 50a8891922e7 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
=== Connections ===
(null) at 172.25.1.10 port 443 options 0 socket 0 status 180000
<control> at localhost port unix options 0 socket 14 status 200
=== Edges ===

--- node3 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node2 id 641dda6330a1 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node3 id 50a8891922e7 at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node3 via node3 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
=== Connections ===
(null) at 172.25.2.10 port 443 options 0 socket 0 status 180000
<control> at localhost port unix options 0 socket 14 status 200
=== Edges ===

==========================================
DETAILED LOGS (QUIC HANDSHAKE FOCUS)
==========================================

=== NODE1 LOGS ===
--- QUIC Initialization ---
QUIC[3962313031323732333035656263393833356666633337636436643761396439] handshake complete, ALPN='h3'
quiche: quiche: 9b101272305ebc9835ffc37cd6d7a9d9 tx pkt Handshake version=1 dcid=400b1318b2c086b93e381977b0fa8864 scid=9b101272305ebc9835ffc37cd6d7a9d9 len=45 pn=3 
quiche: quiche: 9b101272305ebc9835ffc37cd6d7a9d9 tx frm ACK delay=11 blocks=[1..2] ecn_counts=None
quiche: quiche: 9b101272305ebc9835ffc37cd6d7a9d9 tx frm CRYPTO off=0 len=36
quiche: quiche::recovery::congestion::recovery: 9b101272305ebc9835ffc37cd6d7a9d9 timer=3.699602ms latest_rtt=1.235942ms srtt=1.235942ms min_rtt=1.235942ms rttvar=617.971µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=103 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 748990, tv_nsec: 284534763 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 284534763 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.94 Mbps, is_app_limited: true, interval: 1.235942ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 283138943 }), send_elapsed: 0ns, ack_elapsed: 1.235942ms, rtt: 1.235942ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 13653553, last_update: Instant { tv_sec: 748990, tv_nsec: 284701881 }, next_time: Instant { tv_sec: 748990, tv_nsec: 284534763 }, max_datagram_size: 1350, last_packet_size: None, iv: 7.544µs, max_pacing
QUIC[3962313031323732333035656263393833356666633337636436643761396439] send: 103 bytes to 172.25.2.12:443 via fd=6 (first=0xe3)
QUIC[3962313031323732333035656263393833356666633337636436643761396439] sendto OK: 103 bytes
QUIC[3962313031323732333035656263393833356666633337636436643761396439] sent 1 packets, 103 bytes total
QUIC state check for node3: established=1, connection=0x5c7abebbd5c0, quic_meta=1, quic_stream_id=-1, outgoing=(nil), initiated=0
QUIC handshake complete for node3, initiating metadata protocol
Created QUIC meta stream 0 for client
Created client QUIC meta stream 0 for node3 after handshake
QUIC connection, skipping VLESS (already encrypted with TLS 1.3)
Looking up QUIC connection for node node3 at address 172.25.2.12 port 443 (sa_family=2)
Found existing QUIC connection for node node3
QUIC meta: flushing 13 bytes from outbuf via stream 0 (handshake_complete=1)
Sent 13 bytes on QUIC meta stream 0
QUIC meta: sent 13 bytes on stream 0, calling quic_conn_send
quiche: quiche: 9b101272305ebc9835ffc37cd6d7a9d9 tx pkt Short dcid=400b1318b2c086b93e381977b0fa8864 key_phase=false len=18 pn=4 
quiche: quiche: 9b101272305ebc9835ffc37cd6d7a9d9 tx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche::recovery::congestion::recovery: 9b101272305ebc9835ffc37cd6d7a9d9 timer=3.636622ms latest_rtt=1.235942ms srtt=1.235942ms min_rtt=1.235942ms rttvar=617.971µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=155 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 748990, tv_nsec: 284534763 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 284534763 }, end_of_app_limited: 3, last_sent_packet: 4, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.94 Mbps, is_app_limited: true, interval: 1.235942ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 283138943 }), send_elapsed: 0ns, ack_elapsed: 1.235942ms, rtt: 1.235942ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 52, rate: 13653553, last_update: Instant { tv_sec: 748990, tv_nsec: 284701881 }, next_time: Instant { tv_sec: 748990, tv_nsec: 284754376 }, max_datagram_size: 1350, last_packet_size: Some(52), iv: 0ns, max_pacing
QUIC[3962313031323732333035656263393833356666633337636436643761396439] send: 52 bytes to 172.25.2.12:443 via fd=6 (first=0x58)
QUIC[3962313031323732333035656263393833356666633337636436643761396439] sendto OK: 52 bytes
QUIC[3962313031323732333035656263393833356666633337636436643761396439] sent 1 packets, 52 bytes total
QUIC packet processed: qconn->node=0x5c7abeb1e0d0
QUIC node found: name=node3, connection=0x5c7abebbd5c0
QUIC checking connection: name=node3, quic_meta=1, quic_stream_id=0, outgoing=(nil)
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=435 from 172.25.2.12:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=381c16953c0ed0f48c131a11a5aafcce (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3338316331363935336330656430663438633133316131316135616166636365] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
Detected QUIC Short Header packet: first_byte=0x51
QUIC demux: received UDP len=39 from 172.25.2.12:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=2cd9876b228a541a537e7b3d64ab1ff4 (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3263643938373662323238613534316135333765376233643634616231666634] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
Detected QUIC Short Header packet: first_byte=0x5e

--- Errors & Warnings ---
QUIC[3636363164653937653061663534633839316338363835363339346266623538] recv failed: -3
Failed to process Initial packet: -1
QUIC[6131356264323131373335383132393631656338373136326665616565373538] recv failed: -3
Failed to process Initial packet: -1
QUIC[3161633534613661663965623761383264626632643330633765616461666133] recv failed: -3
Failed to process Initial packet: -1
QUIC[3537336465346634323530366330353239383564333665333562616634313634] recv failed: -3
Failed to process Initial packet: -1
QUIC[6430363239663531646331346230613332656363646138353037303964386237] recv failed: -3
Failed to process Initial packet: -1
QUIC[3863346166343639663562336531386463336563633035323162373339373561] recv failed: -3
Failed to process Initial packet: -1
QUIC[3338316331363935336330656430663438633133316131316135616166636365] recv failed: -3
Failed to process Initial packet: -1
QUIC[3263643938373662323238613534316135333765376233643634616231666634] recv failed: -3
Failed to process Initial packet: -1

=== NODE2 LOGS ===
--- QUIC Initialization ---
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 dropped invalid packet
QUIC[3265636535643532363735343634663532323437636534383834663761636336] handshake state: established=0 bytes_received=1200
QUIC packet processed: qconn->node=(nil)
QUIC packet has no associated node and no unbound meta found
Detected QUIC Long Header packet: first_byte=0xc0
QUIC demux: received UDP len=103 from 172.25.1.10:443
Parsed QUIC header: type=3 version=0x1 DCID=2ece5d52675464f52247ce4884f7acc6 (len=16) SCID=d4bb67432f9322d083bac26fc589bb24 (len=16)
lookup_connection_by_id() called for CID=2ece5d52675464f52247ce4884f7acc6 (len=16)
Total registered CIDs in map: 9
lookup_connection_by_id() - FOUND connection for CID=2ece5d52675464f52247ce4884f7acc6
CID lookup SUCCESS: Found connection for DCID=2ece5d52675464f52247ce4884f7acc6
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 rx pkt Handshake version=1 dcid=2ece5d52675464f52247ce4884f7acc6 scid=d4bb67432f9322d083bac26fc589bb24 len=62 pn=3 
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 rx frm ACK delay=12 blocks=[1..2] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 2ece5d52675464f52247ce4884f7acc6 packet newly acked 2
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 rx frm CRYPTO off=0 len=36
quiche: quiche::tls: 2ece5d52675464f52247ce4884f7acc6 set read secret lvl=OneRTT
quiche: quiche::tls: 2ece5d52675464f52247ce4884f7acc6 write message lvl=OneRTT len=396
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 dropped epoch 1 state
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 connection established: proto=Ok("h3") cipher=Some(AES128_GCM) curve=Some("X25519") sigalg=None resumed=false TransportParams { original_destination_connection_id: None, max_idle_timeout: 30000, stateless_reset_token: None, max_udp_payload_size: 1350, initial_max_data: 10485760, initial_max_stream_data_bidi_local: 6291456, initial_max_stream_data_bidi_remote: 6291456, initial_max_stream_data_uni: 6291456, initial_max_streams_bidi: 100, initial_max_streams_uni: 3, ack_delay_exponent: 3, max_ack_delay: 25, disable_active_migration: true, active_conn_id_limit: 2, initial_source_connection_id: Some(d4bb67432f9322d083bac26fc589bb24), retry_source_connection_id: None, max_datagram_frame_size: None, unknown_params: None }
QUIC[3265636535643532363735343634663532323437636534383834663761636336] handshake complete, ALPN='h3'
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 tx pkt Short dcid=d4bb67432f9322d083bac26fc589bb24 key_phase=false len=401 pn=3 
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 tx frm HANDSHAKE_DONE
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 tx frm CRYPTO off=0 len=396
quiche: quiche::recovery::congestion::recovery: 2ece5d52675464f52247ce4884f7acc6 timer=26.331706ms latest_rtt=422.15µs srtt=341.59µs min_rtt=328.046µs rttvar=118.334µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1623, delivered_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 2, rate_sample: RateSample { bandwidth: 27.88 Mbps, is_app_limited: true, interval: 508.935µs, delivered: 1623, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 188508915 }), send_elapsed: 86.785µs, ack_elapsed: 508.935µs, rtt: 422.15µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 435, rate: 49401329, last_update: Instant { tv_sec: 748990, tv_nsec: 189063078 }, next_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, max_datagram_size: 1350, last_packet_size: Some(435), iv: 0ns, m
QUIC[3265636535643532363735343634663532323437636534383834663761636336] send: 435 bytes to 172.25.1.10:443 via fd=6 (first=0x59)
QUIC[3265636535643532363735343634663532323437636534383834663761636336] sendto OK: 435 bytes
QUIC[3265636535643532363735343634663532323437636534383834663761636336] sent 1 packets, 435 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
Created connection_t for unbound incoming QUIC from 172.25.1.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=52 from 172.25.1.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 rx pkt Short dcid=2ece5d52675464f52247ce4884f7acc6 key_phase=false len=35 pn=4 
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 tx pkt Short dcid=d4bb67432f9322d083bac26fc589bb24 key_phase=false len=5 pn=4 
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 tx frm ACK delay=1 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 2ece5d52675464f52247ce4884f7acc6 timer=26.257076ms latest_rtt=422.15µs srtt=341.59µs min_rtt=328.046µs rttvar=118.334µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1623, delivered_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 27.88 Mbps, is_app_limited: true, interval: 508.935µs, delivered: 1623, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 188508915 }), send_elapsed: 86.785µs, ack_elapsed: 508.935µs, rtt: 422.15µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 49401329, last_update: Instant { tv_sec: 748990, tv_nsec: 189141051 }, next_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, max_datagram_size: 1350, last_packet_size: None, iv: 8.805µs, max
QUIC[3265636535643532363735343634663532323437636534383834663761636336] send: 39 bytes to 172.25.1.10:443 via fd=6 (first=0x4e)
QUIC[3265636535643532363735343634663532323437636534383834663761636336] sendto OK: 39 bytes
QUIC[3265636535643532363735343634663532323437636534383834663761636336] sent 1 packets, 39 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
QUIC packet processed: qconn->node=(nil)
Detected QUIC Short Header packet: first_byte=0x40
Looking up QUIC connection for node node3 at address 172.25.2.12 port 443 (sa_family=2)
Found existing QUIC connection for node node3
QUIC connection to node3 already exists, reusing
Looking up QUIC connection for node node1 at address 172.25.1.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing

--- Errors & Warnings ---
QUIC[3961663336303962313062653235383239353336313065366134663638383861] recv failed: -3
Failed to process Initial packet: -1
QUIC[6663666534346564653561653833303830326263653834616335646531363637] recv failed: -3
Failed to process Initial packet: -1

=== NODE3 LOGS ===
--- QUIC Initialization ---
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx frm ACK delay=20 blocks=[0..0] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 400b1318b2c086b93e381977b0fa8864 packet newly acked 0
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx pkt Handshake version=1 dcid=400b1318b2c086b93e381977b0fa8864 scid=9b101272305ebc9835ffc37cd6d7a9d9 len=22 pn=2 
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx frm ACK delay=4 blocks=[1..1] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 400b1318b2c086b93e381977b0fa8864 packet newly acked 1
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 dropped epoch 0 state
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 dropped invalid packet
QUIC[3430306231333138623263303836623933653338313937376230666138383634] handshake state: established=0 bytes_received=1200
QUIC packet processed: qconn->node=(nil)
QUIC packet has no associated node and no unbound meta found
Detected QUIC Long Header packet: first_byte=0xc0
QUIC demux: received UDP len=103 from 172.25.2.10:443
Parsed QUIC header: type=3 version=0x1 DCID=400b1318b2c086b93e381977b0fa8864 (len=16) SCID=9b101272305ebc9835ffc37cd6d7a9d9 (len=16)
lookup_connection_by_id() called for CID=400b1318b2c086b93e381977b0fa8864 (len=16)
Total registered CIDs in map: 9
lookup_connection_by_id() - FOUND connection for CID=400b1318b2c086b93e381977b0fa8864
CID lookup SUCCESS: Found connection for DCID=400b1318b2c086b93e381977b0fa8864
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx pkt Handshake version=1 dcid=400b1318b2c086b93e381977b0fa8864 scid=9b101272305ebc9835ffc37cd6d7a9d9 len=62 pn=3 
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx frm ACK delay=11 blocks=[1..2] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 400b1318b2c086b93e381977b0fa8864 packet newly acked 2
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx frm CRYPTO off=0 len=36
quiche: quiche::tls: 400b1318b2c086b93e381977b0fa8864 set read secret lvl=OneRTT
quiche: quiche::tls: 400b1318b2c086b93e381977b0fa8864 write message lvl=OneRTT len=396
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 dropped epoch 1 state
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 connection established: proto=Ok("h3") cipher=Some(AES128_GCM) curve=Some("X25519") sigalg=None resumed=false TransportParams { original_destination_connection_id: None, max_idle_timeout: 30000, stateless_reset_token: None, max_udp_payload_size: 1350, initial_max_data: 10485760, initial_max_stream_data_bidi_local: 6291456, initial_max_stream_data_bidi_remote: 6291456, initial_max_stream_data_uni: 6291456, initial_max_streams_bidi: 100, initial_max_streams_uni: 3, ack_delay_exponent: 3, max_ack_delay: 25, disable_active_migration: true, active_conn_id_limit: 2, initial_source_connection_id: Some(9b101272305ebc9835ffc37cd6d7a9d9), retry_source_connection_id: None, max_datagram_frame_size: None, unknown_params: None }
QUIC[3430306231333138623263303836623933653338313937376230666138383634] handshake complete, ALPN='h3'
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 tx pkt Short dcid=9b101272305ebc9835ffc37cd6d7a9d9 key_phase=false len=401 pn=3 
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 tx frm HANDSHAKE_DONE
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 tx frm CRYPTO off=0 len=396
quiche: quiche::recovery::congestion::recovery: 400b1318b2c086b93e381977b0fa8864 timer=26.338752ms latest_rtt=743.334µs srtt=479.535µs min_rtt=451.205µs rttvar=181.955µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748990, tv_nsec: 285219527 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 285219527 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 2, rate_sample: RateSample { bandwidth: 20.13 Mbps, is_app_limited: true, interval: 885.256µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 284212824 }), send_elapsed: 141.922µs, ack_elapsed: 885.256µs, rtt: 743.334µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 435, rate: 35190340, last_update: Instant { tv_sec: 748990, tv_nsec: 285219527 }, next_time: Instant { tv_sec: 748990, tv_nsec: 285219527 }, max_datagram_size: 1350, last_packet_size: Some(435), iv: 0n
QUIC[3430306231333138623263303836623933653338313937376230666138383634] send: 435 bytes to 172.25.2.10:443 via fd=6 (first=0x51)
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sendto OK: 435 bytes
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sent 1 packets, 435 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
Created connection_t for unbound incoming QUIC from 172.25.2.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=52 from 172.25.2.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx pkt Short dcid=400b1318b2c086b93e381977b0fa8864 key_phase=false len=35 pn=4 
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 tx pkt Short dcid=9b101272305ebc9835ffc37cd6d7a9d9 key_phase=false len=5 pn=4 
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 tx frm ACK delay=14 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 400b1318b2c086b93e381977b0fa8864 timer=25.611348ms latest_rtt=743.334µs srtt=479.535µs min_rtt=451.205µs rttvar=181.955µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748990, tv_nsec: 285219527 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 285219527 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 20.13 Mbps, is_app_limited: true, interval: 885.256µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 284212824 }), send_elapsed: 141.922µs, ack_elapsed: 885.256µs, rtt: 743.334µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 35190340, last_update: Instant { tv_sec: 748990, tv_nsec: 285952636 }, next_time: Instant { tv_sec: 748990, tv_nsec: 285952636 }, max_datagram_size: 1350, last_packet_size: Some(0), iv: 0ns, m
QUIC[3430306231333138623263303836623933653338313937376230666138383634] send: 39 bytes to 172.25.2.10:443 via fd=6 (first=0x5e)
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sendto OK: 39 bytes
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sent 1 packets, 39 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
QUIC packet processed: qconn->node=(nil)
Detected QUIC Short Header packet: first_byte=0x40

--- Errors & Warnings ---
QUIC[6661636530376634633064623564393934616664323661303839383339323733] recv failed: -3
Failed to process Initial packet: -1
QUIC[3962636363653861653462346639633838323532353932323335616333353762] recv failed: -3
Failed to process Initial packet: -1

==========================================
FULL LOGS (LAST 100 LINES EACH)
==========================================

=== NODE1 FULL LOG ===
QUIC meta: flushing 13 bytes from outbuf via stream 0 (handshake_complete=1)
Sent 13 bytes on QUIC meta stream 0
QUIC meta: sent 13 bytes on stream 0, calling quic_conn_send
quiche: quiche: 9b101272305ebc9835ffc37cd6d7a9d9 tx pkt Short dcid=400b1318b2c086b93e381977b0fa8864 key_phase=false len=18 pn=4 
quiche: quiche: 9b101272305ebc9835ffc37cd6d7a9d9 tx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche::recovery::congestion::recovery: 9b101272305ebc9835ffc37cd6d7a9d9 timer=3.636622ms latest_rtt=1.235942ms srtt=1.235942ms min_rtt=1.235942ms rttvar=617.971µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=155 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 748990, tv_nsec: 284534763 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 284534763 }, end_of_app_limited: 3, last_sent_packet: 4, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.94 Mbps, is_app_limited: true, interval: 1.235942ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 283138943 }), send_elapsed: 0ns, ack_elapsed: 1.235942ms, rtt: 1.235942ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 52, rate: 13653553, last_update: Instant { tv_sec: 748990, tv_nsec: 284701881 }, next_time: Instant { tv_sec: 748990, tv_nsec: 284754376 }, max_datagram_size: 1350, last_packet_size: Some(52), iv: 0ns, max_pacing
QUIC[3962313031323732333035656263393833356666633337636436643761396439] send: 52 bytes to 172.25.2.12:443 via fd=6 (first=0x58)
QUIC[3962313031323732333035656263393833356666633337636436643761396439] sendto OK: 52 bytes
QUIC[3962313031323732333035656263393833356666633337636436643761396439] sent 1 packets, 52 bytes total
QUIC packet processed: qconn->node=0x5c7abeb1e0d0
QUIC node found: name=node3, connection=0x5c7abebbd5c0
QUIC checking connection: name=node3, quic_meta=1, quic_stream_id=0, outgoing=(nil)
quic_transport_is_enabled() = 1 (quic_manager=0x5c7abeb1dbc0, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x5c7abeb1dbc0, enabled=1)
QUIC demux: received UDP len=435 from 172.25.2.12:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=381c16953c0ed0f48c131a11a5aafcce (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3338316331363935336330656430663438633133316131316135616166636365] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
quic_transport_is_enabled() = 1 (quic_manager=0x5c7abeb1dbc0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x51
quic_transport_is_enabled() = 1 (quic_manager=0x5c7abeb1dbc0, enabled=1)
QUIC demux: received UDP len=39 from 172.25.2.12:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=2cd9876b228a541a537e7b3d64ab1ff4 (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3263643938373662323238613534316135333765376233643634616231666634] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
quic_transport_is_enabled() = 1 (quic_manager=0x5c7abeb1dbc0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x5e
Connection from localhost port unix
receive_request: conn=0x5c7abebd1ec0 quic_meta=0 allow=0 raw='0 ^7C6A60E9598AC932B61876D1DEF74A7806698F6283D9A4F152CD1ECF99C0B802 0'
Got ID from <control> (localhost port unix): 0 ^7C6A60E9598AC932B61876D1DEF74A7806698F6283D9A4F152CD1ECF99C0B802 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5c7abebd1ec0 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b MYSELF port 443 0 0 0 0 700000c 850 node1 node1 0 1518 0 1518 1762892736 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5c7abebd2840 quic_meta=0 allow=0 raw='0 ^7C6A60E9598AC932B61876D1DEF74A7806698F6283D9A4F152CD1ECF99C0B802 0'
Got ID from <control> (localhost port unix): 0 ^7C6A60E9598AC932B61876D1DEF74A7806698F6283D9A4F152CD1ECF99C0B802 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5c7abebd2840 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 node2 172.25.1.11 port 443 0 0 300000
Sending 43 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node2 172.25.1.11 port 443 0 14 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node3 172.25.2.12 port 443 0 0 300000
Sending 43 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node3 172.25.2.12 port 443 0 15 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 16 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5c7abebd2840 quic_meta=0 allow=0 raw='0 ^7C6A60E9598AC932B61876D1DEF74A7806698F6283D9A4F152CD1ECF99C0B802 0'
Got ID from <control> (localhost port unix): 0 ^7C6A60E9598AC932B61876D1DEF74A7806698F6283D9A4F152CD1ECF99C0B802 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5c7abebd2840 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)

=== NODE2 FULL LOG ===
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.1.10 port 443
find_unbound: NO match found for 172.25.1.10 port 443 (checked 0 connections)
Could not find node for server connection from 172.25.1.10 port 443 - will bind via ID message
Created connection_t for unbound incoming QUIC from 172.25.1.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x5e06043ebae0, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x5e06043ebae0, enabled=1)
QUIC demux: received UDP len=52 from 172.25.1.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Found connection by peer address fallback
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 rx pkt Short dcid=2ece5d52675464f52247ce4884f7acc6 key_phase=false len=35 pn=4 
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 tx pkt Short dcid=d4bb67432f9322d083bac26fc589bb24 key_phase=false len=5 pn=4 
quiche: quiche: 2ece5d52675464f52247ce4884f7acc6 tx frm ACK delay=1 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 2ece5d52675464f52247ce4884f7acc6 timer=26.257076ms latest_rtt=422.15µs srtt=341.59µs min_rtt=328.046µs rttvar=118.334µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1623, delivered_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 27.88 Mbps, is_app_limited: true, interval: 508.935µs, delivered: 1623, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 188508915 }), send_elapsed: 86.785µs, ack_elapsed: 508.935µs, rtt: 422.15µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 49401329, last_update: Instant { tv_sec: 748990, tv_nsec: 189141051 }, next_time: Instant { tv_sec: 748990, tv_nsec: 189063078 }, max_datagram_size: 1350, last_packet_size: None, iv: 8.805µs, max
QUIC[3265636535643532363735343634663532323437636534383834663761636336] send: 39 bytes to 172.25.1.10:443 via fd=6 (first=0x4e)
QUIC[3265636535643532363735343634663532323437636534383834663761636336] sendto OK: 39 bytes
QUIC[3265636535643532363735343634663532323437636534383834663761636336] sent 1 packets, 39 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
Unbound connection already exists for 172.25.1.10 port 443, skipping duplicate creation
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x5e06043ebae0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x40
Trying to connect to node3 (172.25.2.12 port 443)
Looking up QUIC connection for node node3 at address 172.25.2.12 port 443 (sa_family=2)
Found existing QUIC connection for node node3
QUIC connection to node3 already exists, reusing
Trying to connect to node1 (172.25.1.10 port 443)
Looking up QUIC connection for node node1 at address 172.25.1.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing
Connection from localhost port unix
receive_request: conn=0x5e060445a3e0 quic_meta=0 allow=0 raw='0 ^162B471B1583F6F7E0451A526299FBACCC849AE011804D9AA0EAFACD49252191 0'
Got ID from <control> (localhost port unix): 0 ^162B471B1583F6F7E0451A526299FBACCC849AE011804D9AA0EAFACD49252191 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5e060445a3e0 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 MYSELF port 443 0 0 0 0 700000c 850 node2 node2 0 1518 0 1518 1762892736 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5e060445a3e0 quic_meta=0 allow=0 raw='0 ^162B471B1583F6F7E0451A526299FBACCC849AE011804D9AA0EAFACD49252191 0'
Got ID from <control> (localhost port unix): 0 ^162B471B1583F6F7E0451A526299FBACCC849AE011804D9AA0EAFACD49252191 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5e060445a3e0 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 (null) 172.25.1.10 port 443 0 0 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 14 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5e060445a3e0 quic_meta=0 allow=0 raw='0 ^162B471B1583F6F7E0451A526299FBACCC849AE011804D9AA0EAFACD49252191 0'
Got ID from <control> (localhost port unix): 0 ^162B471B1583F6F7E0451A526299FBACCC849AE011804D9AA0EAFACD49252191 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5e060445a3e0 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)

=== NODE3 FULL LOG ===
QUIC[3430306231333138623263303836623933653338313937376230666138383634] send: 435 bytes to 172.25.2.10:443 via fd=6 (first=0x51)
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sendto OK: 435 bytes
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sent 1 packets, 435 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.2.10 port 443
find_unbound: NO match found for 172.25.2.10 port 443 (checked 0 connections)
Could not find node for server connection from 172.25.2.10 port 443 - will bind via ID message
Created connection_t for unbound incoming QUIC from 172.25.2.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x624d640bf750, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x624d640bf750, enabled=1)
QUIC demux: received UDP len=52 from 172.25.2.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Found connection by peer address fallback
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx pkt Short dcid=400b1318b2c086b93e381977b0fa8864 key_phase=false len=35 pn=4 
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 tx pkt Short dcid=9b101272305ebc9835ffc37cd6d7a9d9 key_phase=false len=5 pn=4 
quiche: quiche: 400b1318b2c086b93e381977b0fa8864 tx frm ACK delay=14 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: 400b1318b2c086b93e381977b0fa8864 timer=25.611348ms latest_rtt=743.334µs srtt=479.535µs min_rtt=451.205µs rttvar=181.955µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 748990, tv_nsec: 285219527 }, first_sent_time: Instant { tv_sec: 748990, tv_nsec: 285219527 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 20.13 Mbps, is_app_limited: true, interval: 885.256µs, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 748990, tv_nsec: 284212824 }), send_elapsed: 141.922µs, ack_elapsed: 885.256µs, rtt: 743.334µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 35190340, last_update: Instant { tv_sec: 748990, tv_nsec: 285952636 }, next_time: Instant { tv_sec: 748990, tv_nsec: 285952636 }, max_datagram_size: 1350, last_packet_size: Some(0), iv: 0ns, m
QUIC[3430306231333138623263303836623933653338313937376230666138383634] send: 39 bytes to 172.25.2.10:443 via fd=6 (first=0x5e)
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sendto OK: 39 bytes
QUIC[3430306231333138623263303836623933653338313937376230666138383634] sent 1 packets, 39 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
Unbound connection already exists for 172.25.2.10 port 443, skipping duplicate creation
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
quic_transport_is_enabled() = 1 (quic_manager=0x624d640bf750, enabled=1)
Detected QUIC Short Header packet: first_byte=0x40
Connection from localhost port unix
receive_request: conn=0x624d6412cef0 quic_meta=0 allow=0 raw='0 ^7059BD85607F8D523C570A7C14E299F9160F27E4170E54EA862B69BB1C29BCDF 0'
Got ID from <control> (localhost port unix): 0 ^7059BD85607F8D523C570A7C14E299F9160F27E4170E54EA862B69BB1C29BCDF 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x624d6412cef0 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 MYSELF port 443 0 0 0 0 700000c 850 node3 node3 0 1518 0 1518 1762892736 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x624d6412d130 quic_meta=0 allow=0 raw='0 ^7059BD85607F8D523C570A7C14E299F9160F27E4170E54EA862B69BB1C29BCDF 0'
Got ID from <control> (localhost port unix): 0 ^7059BD85607F8D523C570A7C14E299F9160F27E4170E54EA862B69BB1C29BCDF 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x624d6412d130 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 (null) 172.25.2.10 port 443 0 0 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 14 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x624d6412d370 quic_meta=0 allow=0 raw='0 ^7059BD85607F8D523C570A7C14E299F9160F27E4170E54EA862B69BB1C29BCDF 0'
Got ID from <control> (localhost port unix): 0 ^7059BD85607F8D523C570A7C14E299F9160F27E4170E54EA862B69BB1C29BCDF 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x624d6412d370 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Trying to connect to node2 (172.25.1.11 port 443)
Looking up QUIC connection for node node2 at address 172.25.1.11 port 443 (sa_family=2)
Found existing QUIC connection for node node2
QUIC connection to node2 already exists, reusing

===========================================
TEST COMPLETED - Tue Nov 11 23:25:46 MSK 2025
===========================================
