===========================================
TINC QUIC TEST - Tue Nov 11 23:36:27 MSK 2025
===========================================

=== Building Docker images ===
Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "default" instance using docker driver

#1 [node1 internal] load build definition from Dockerfile.optimized
#1 transferring dockerfile: 3.20kB done
#1 DONE 0.0s

#2 [node1 auth] library/ubuntu:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [node1 internal] load metadata for docker.io/library/ubuntu:22.04
#3 DONE 1.0s

#4 [node1 internal] load .dockerignore
#4 transferring context: 616B done
#4 DONE 0.0s

#5 [node1 tinc-builder 1/9] FROM docker.io/library/ubuntu:22.04@sha256:09506232a8004baa32c47d68f1e5c307d648fdd59f5e7eaa42aaf87914100db3
#5 DONE 0.0s

#6 [node1 internal] load build context
#6 transferring context: 1.64MB 0.9s done
#6 DONE 1.0s

#7 [node1 quiche-builder 5/6] COPY deps/quiche /build/deps/quiche
#7 CACHED

#8 [node1 tinc-builder 5/9] COPY --from=quiche-builder /build/deps/quiche/quiche/include/quiche.h /usr/include/
#8 CACHED

#9 [node1 tinc-builder 6/9] RUN ldconfig
#9 CACHED

#10 [node1 quiche-builder 2/6] RUN apt-get update && apt-get install -y     build-essential     curl     git     libssl-dev     pkg-config     cmake     libclang-dev     clang     && rm -rf /var/lib/apt/lists/*
#10 CACHED

#11 [node1 quiche-builder 3/6] RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
#11 CACHED

#12 [node1 tinc-builder 2/9] RUN apt-get update && apt-get install -y     build-essential     autoconf     automake     libtool     libssl-dev     zlib1g-dev     liblzo2-dev     libncurses5-dev     libreadline-dev     && rm -rf /var/lib/apt/lists/*
#12 CACHED

#13 [node1 quiche-builder 4/6] WORKDIR /build
#13 CACHED

#14 [node1 quiche-builder 6/6] RUN cd deps/quiche &&     cargo build --release --features ffi,pkg-config-meta
#14 CACHED

#15 [node1 tinc-builder 4/9] COPY --from=quiche-builder /build/deps/quiche/target/release/libquiche.so /usr/lib/
#15 CACHED

#16 [node1 tinc-builder 3/9] WORKDIR /build
#16 CACHED

#17 [node1 tinc-builder 7/9] COPY --from=quiche-builder /build/deps/quiche /build/deps/quiche
#17 CACHED

#18 [node1 tinc-builder 8/9] COPY . /build/
#18 DONE 48.5s

#19 [node1 tinc-builder 9/9] RUN autoreconf -fsi &&     ./configure         --prefix=/usr         --sysconfdir=/etc         --localstatedir=/var         --with-openssl         --enable-maintainer-mode &&     make &&     make install
#19 2.194 sh: 1: git: not found
#19 2.632 sh: 1: git: not found
#19 2.859 sh: 1: git: not found
#19 3.008 configure.ac:17: warning: The macro `AC_PROG_CC_STDC' is obsolete.
#19 3.008 configure.ac:17: You should run autoupdate.
#19 3.008 ./lib/autoconf/c.m4:1666: AC_PROG_CC_STDC is expanded from...
#19 3.008 configure.ac:17: the top level
#19 3.195 sh: 1: git: not found
#19 3.930 configure: WARNING: unrecognized options: --enable-maintainer-mode
#19 3.964 checking for a BSD-compatible install... /usr/bin/install -c
#19 3.973 checking whether build environment is sane... yes
#19 3.982 checking for a race-free mkdir -p... /usr/bin/mkdir -p
#19 3.984 checking for gawk... no
#19 3.984 checking for mawk... mawk
#19 3.984 checking whether make sets $(MAKE)... yes
#19 3.995 checking whether make supports nested variables... yes
#19 4.002 checking whether make supports nested variables... (cached) yes
#19 4.002 checking whether make supports the include directive... yes (GNU style)
#19 4.010 checking for gcc... gcc
#19 4.037 checking whether the C compiler works... yes
#19 4.091 checking for C compiler default output file name... a.out
#19 4.092 checking for suffix of executables... 
#19 4.122 checking whether we are cross compiling... no
#19 4.153 checking for suffix of object files... o
#19 4.170 checking whether the compiler supports GNU C... yes
#19 4.186 checking whether gcc accepts -g... yes
#19 4.203 checking for gcc option to enable C11 features... none needed
#19 4.246 checking whether gcc understands -c and -o together... yes
#19 4.273 checking dependency style of gcc... gcc3
#19 4.316 checking for stdio.h... yes
#19 4.333 checking for stdlib.h... yes
#19 4.356 checking for string.h... yes
#19 4.380 checking for inttypes.h... yes
#19 4.409 checking for stdint.h... yes
#19 4.435 checking for strings.h... yes
#19 4.458 checking for sys/stat.h... yes
#19 4.480 checking for sys/types.h... yes
#19 4.509 checking for unistd.h... yes
#19 4.538 checking for wchar.h... yes
#19 4.569 checking for minix/config.h... no
#19 4.598 checking whether it is safe to define __EXTENSIONS__... yes
#19 4.628 checking whether _XOPEN_SOURCE should be defined... no
#19 4.649 checking for gcc... (cached) gcc
#19 4.676 checking whether the compiler supports GNU C... (cached) yes
#19 4.676 checking whether gcc accepts -g... (cached) yes
#19 4.677 checking for gcc option to enable C11 features... (cached) none needed
#19 4.677 checking whether gcc understands -c and -o together... (cached) yes
#19 4.677 checking dependency style of gcc... (cached) gcc3
#19 4.677 checking how to run the C preprocessor... gcc -E
#19 4.726 checking for a sed that does not truncate output... /usr/bin/sed
#19 4.731 checking whether to build with code coverage support... no
#19 4.737 checking build system type... x86_64-pc-linux-gnu
#19 4.784 checking host system type... x86_64-pc-linux-gnu
#19 4.799 checking CFLAGS for maximum warnings... -Wall
#19 4.832 checking whether C compiler accepts -DFORTIFY_SOURCE=2... yes
#19 4.855 checking whether C compiler accepts -fwrapv... yes
#19 4.874 checking whether C compiler accepts -fPIE... yes
#19 4.891 checking whether the linker accepts -pie... yes
#19 4.926 checking whether the linker accepts -Wl,-z,relro... yes
#19 4.957 checking whether the linker accepts -Wl,-z,now... yes
#19 4.989 checking for syslog.h... yes
#19 5.023 checking for sys/file.h... yes
#19 5.051 checking for sys/ioctl.h... yes
#19 5.078 checking for sys/mman.h... yes
#19 5.105 checking for sys/param.h... yes
#19 5.140 checking for sys/resource.h... yes
#19 5.167 checking for sys/socket.h... yes
#19 5.200 checking for sys/time.h... yes
#19 5.229 checking for sys/un.h... yes
#19 5.259 checking for sys/wait.h... yes
#19 5.293 checking for netdb.h... yes
#19 5.324 checking for arpa/inet.h... yes
#19 5.358 checking for dirent.h... yes
#19 5.392 checking for getopt.h... yes
#19 5.422 checking for stddef.h... yes
#19 5.449 checking for net/if.h... yes
#19 5.512 checking for net/if_types.h... no
#19 5.571 checking for net/ethernet.h... yes
#19 5.631 checking for net/if_arp.h... yes
#19 5.686 checking for netinet/in_systm.h... yes
#19 5.742 checking for netinet/in.h... yes
#19 5.798 checking for netinet/in6.h... no
#19 5.856 checking for netpacket/packet.h... yes
#19 5.916 checking for netinet/if_ether.h... yes
#19 5.976 checking for netinet/ip.h... yes
#19 6.034 checking for netinet/ip6.h... yes
#19 6.097 checking for resolv.h... yes
#19 6.160 checking for netinet/tcp.h... yes
#19 6.218 checking for netinet/ip_icmp.h... yes
#19 6.276 checking for netinet/icmp6.h... yes
#19 6.343 checking for working __malloc__ attribute... yes
#19 6.362 checking for working __nonnull__ attribute... yes
#19 6.381 checking for working __warn_unused_result__ attribute... yes
#19 6.399 checking for struct ether_header... yes
#19 6.526 checking for struct arphdr... yes
#19 6.661 checking for struct ether_arp... yes
#19 6.776 checking for struct ip... yes
#19 6.914 checking for struct icmp... yes
#19 7.038 checking for struct ip6_hdr... yes
#19 7.159 checking for struct icmp6_hdr... yes
#19 7.279 checking for struct nd_neighbor_solicit... yes
#19 7.407 checking for struct nd_opt_hdr... yes
#19 7.537 checking for asprintf... yes
#19 7.571 checking for daemon... yes
#19 7.600 checking for fchmod... yes
#19 7.635 checking for flock... yes
#19 7.668 checking for fork... yes
#19 7.706 checking for gettimeofday... yes
#19 7.738 checking for mlockall... yes
#19 7.769 checking for putenv... yes
#19 7.802 checking for recvmmsg... yes
#19 7.836 checking for strsignal... yes
#19 7.868 checking for nanosleep... yes
#19 7.901 checking for unsetenv... yes
#19 7.932 checking for vsyslog... yes
#19 7.967 checking for devname... no
#19 8.005 checking for fdevname... no
#19 8.045 checking for getopt_long... yes
#19 8.079 checking for gcc options needed to detect all undeclared functions... none needed
#19 8.112 checking whether res_init is declared... yes
#19 8.147 checking for res_init in -lresolv... no
#19 8.184 checking for linux/if_tun.h... yes
#19 8.263 checking for curses.h... yes
#19 8.300 checking for initscr in -lncurses... yes
#19 8.335 checking for wtimeout in -ltinfo... yes
#19 8.373 checking for readline/readline.h... yes
#19 8.412 checking for readline/history.h... yes
#19 8.446 checking for readline in -lreadline... yes
#19 8.481 checking for zlib.h... yes
#19 8.512 checking for compress2 in -lz... yes
#19 8.543 checking for lzo1x_1_compress in -llzo2... yes
#19 8.575 checking for lzo/lzo1x.h... yes
#19 8.607 checking for dlopen... yes
#19 8.641 checking for openssl/evp.h... yes
#19 8.701 checking for openssl/rsa.h... yes
#19 8.746 checking for openssl/rand.h... yes
#19 8.799 checking for openssl/err.h... yes
#19 8.841 checking for openssl/sha.h... yes
#19 8.880 checking for openssl/pem.h... yes
#19 8.968 checking for openssl/engine.h... yes
#19 9.048 checking for EVP_EncryptInit_ex in -lcrypto... yes
#19 9.107 checking for SSL_new in -lssl... yes
#19 9.170 checking for RAND_bytes... yes
#19 9.252 checking for EVP_EncryptInit_ex... yes
#19 9.334 checking for EVP_CIPHER_CTX_new... yes
#19 9.427 checking whether OpenSSL_add_all_algorithms is declared... yes
#19 9.495 checking whether EVP_aes_256_cfb is declared... yes
#19 9.551 checking for BN_GENCB_new... yes
#19 9.616 checking for ERR_remove_state... yes
#19 9.693 checking for RSA_set0_key... yes
#19 9.765 checking for HMAC_CTX_new... yes
#19 9.848 checking that generated files are newer than configure... done
#19 9.849 configure: creating ./config.status
#19 9.952 config.status: creating Makefile
#19 9.966 config.status: creating src/Makefile
#19 9.984 config.status: creating doc/Makefile
#19 10.00 config.status: creating test/Makefile
#19 10.02 config.status: creating test/testlib.sh
#19 10.04 config.status: creating systemd/Makefile
#19 10.05 config.status: creating bash_completion.d/Makefile
#19 10.07 config.status: creating config.h
#19 10.07 config.status: config.h is unchanged
#19 10.08 config.status: executing depfiles commands
#19 10.12 configure: WARNING: unrecognized options: --enable-maintainer-mode
#19 10.16 make  all-recursive
#19 10.16 make[1]: Entering directory '/build'
#19 10.17 Making all in src
#19 10.21 make[2]: Entering directory '/build/src'
#19 10.21   CC       address_cache.o
#19 10.48   CC       autoconnect.o
#19 10.65   CC       conf.o
#19 10.88   CC       connection.o
#19 11.03   CC       control.o
#19 11.21   CC       dummy_device.o
#19 11.35   CC       edge.o
#19 11.51   CC       event.o
#19 11.63 event.c: In function 'signal_handler':
#19 11.63 event.c:236:9: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 11.63   236 |         write(pipefd[1], &num, 1);
#19 11.63       |         ^~~~~~~~~~~~~~~~~~~~~~~~~
#19 11.71   CC       fd_device.o
#19 11.88   CC       graph.o
#19 12.08   CC       logger.o
#19 12.21 logger.c: In function 'real_logger':
#19 12.21 logger.c:93:25: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 12.21    93 |                         write(umbilical, message, strlen(message));
#19 12.21       |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 12.21 logger.c:94:25: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 12.21    94 |                         write(umbilical, "\n", 1);
#19 12.21       |                         ^~~~~~~~~~~~~~~~~~~~~~~~~
#19 12.27   CC       meta.o
#19 12.48   CC       multicast_device.o
#19 12.66   CC       net.o
#19 12.89   CC       net_packet.o
#19 13.36   CC       net_setup.o
#19 13.74   CC       net_socket.o
#19 14.04   CC       netutl.o
#19 14.22   CC       node.o
#19 14.39   CC       process.o
#19 14.53   CC       protocol.o
#19 14.72   CC       protocol_auth.o
#19 14.85 protocol_auth.c: In function 'receive_invitation_sptps':
#19 14.85 protocol_auth.c:296:9: warning: ignoring return value of 'fgets' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 14.85   296 |         fgets(buf, sizeof(buf), f);
#19 14.85       |         ^~~~~~~~~~~~~~~~~~~~~~~~~~
#19 16.96   CC       protocol_edge.o
#19 17.15   CC       protocol_key.o
#19 17.39   CC       protocol_misc.o
#19 17.58   CC       protocol_subnet.o
#19 17.75   CC       raw_socket_device.o
#19 17.91   CC       route.o
#19 18.35   CC       script.o
#19 18.48 script.c: In function 'environment_add':
#19 18.48 script.c:83:17: warning: ignoring return value of 'vasprintf' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 18.48    83 |                 vasprintf(&env->entries[env->n], format, ap);
#19 18.48       |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 18.48 script.c: In function 'environment_update':
#19 18.48 script.c:96:9: warning: ignoring return value of 'vasprintf' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 18.48    96 |         vasprintf(&env->entries[pos], format, ap);
#19 18.48       |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 18.53   CC       subnet.o
#19 18.71   CC       subnet_parse.o
#19 18.93   CC       tincd.o
#19 19.05 tincd.c: In function 'main':
#19 19.05 tincd.c:396:9: warning: ignoring return value of 'chdir' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 19.05   396 |         chdir(confbase);
#19 19.05       |         ^~~~~~~~~~~~~~~
#19 19.05 tincd.c:551:17: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 19.05   551 |                 write(umbilical, "", 1);
#19 19.05       |                 ^~~~~~~~~~~~~~~~~~~~~~~
#19 19.11   GEN      version_git.h
#19 19.11   CC       version.o
#19 19.13   CC       quic/quic.o
#19 19.19 quic/quic.c:47:21: warning: 'DEFAULT_ALPN_LEN' defined but not used [-Wunused-const-variable=]
#19 19.19    47 | static const size_t DEFAULT_ALPN_LEN = sizeof(DEFAULT_ALPN) - 1;
#19 19.19       |                     ^~~~~~~~~~~~~~~~
#19 19.33   CC       quic/quic_transport.o
#19 19.78   CC       quic/quic_reality.o
#19 19.96 quic/quic_reality.c: In function 'quic_reality_proxy_data':
#19 19.96 quic/quic_reality.c:368:23: warning: 'buf' may be used uninitialized [-Wmaybe-uninitialized]
#19 19.96   368 |         ssize_t len = quic_conn_recv(client_conn, buf, sizeof(buf));
#19 19.96       |                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 19.96 In file included from quic/quic_reality.h:24,
#19 19.96                  from quic/quic_reality.c:31:
#19 19.96 quic/quic.h:150:16: note: by argument 2 of type 'const uint8_t *' {aka 'const unsigned char *'} to 'quic_conn_recv' declared here
#19 19.96   150 | extern ssize_t quic_conn_recv(quic_conn_t *qconn, const uint8_t *buf, size_t len);
#19 19.96       |                ^~~~~~~~~~~~~~
#19 19.96 quic/quic_reality.c:367:17: note: 'buf' declared here
#19 19.96   367 |         uint8_t buf[4096];
#19 19.96       |                 ^~~
#19 19.98   CC       quic/quic_fingerprint.o
#19 20.07   CC       linux/device.o
#19 20.22   CCLD     tincd
#19 20.32   CC       ifconfig.o
#19 20.47   CC       info.o
#19 20.66   CC       invitation.o
#19 21.02   CC       tincctl.o
#19 21.16 tincctl.c: In function 'ask_and_open':
#19 21.16 tincctl.c:392:17: warning: ignoring return value of 'getcwd' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 21.16   392 |                 getcwd(directory, sizeof(directory));
#19 21.16       |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#19 21.17 tincctl.c: In function 'cmd_start':
#19 21.17 tincctl.c:1076:17: warning: ignoring return value of 'write' declared with attribute 'warn_unused_result' [-Wunused-result]
#19 21.17  1076 |                 write(2, buf, len);
#19 21.17       |                 ^~~~~~~~~~~~~~~~~~
#19 21.83   CC       top.o
#19 22.03   CCLD     tinc
#19 22.12 make[2]: Leaving directory '/build/src'
#19 22.12 Making all in doc
#19 22.12 make[2]: Entering directory '/build/doc'
#19 22.12 make[2]: Nothing to be done for 'all'.
#19 22.12 make[2]: Leaving directory '/build/doc'
#19 22.12 Making all in test
#19 22.12 make[2]: Entering directory '/build/test'
#19 22.12 make[2]: Nothing to be done for 'all'.
#19 22.12 make[2]: Leaving directory '/build/test'
#19 22.12 Making all in systemd
#19 22.12 make[2]: Entering directory '/build/systemd'
#19 22.12 make[2]: Nothing to be done for 'all'.
#19 22.12 make[2]: Leaving directory '/build/systemd'
#19 22.12 Making all in bash_completion.d
#19 22.13 make[2]: Entering directory '/build/bash_completion.d'
#19 22.13 make[2]: Nothing to be done for 'all'.
#19 22.13 make[2]: Leaving directory '/build/bash_completion.d'
#19 22.13 make[2]: Entering directory '/build'
#19 22.13 make[2]: Leaving directory '/build'
#19 22.13 make[1]: Leaving directory '/build'
#19 22.14 Making install in src
#19 22.18 make[1]: Entering directory '/build/src'
#19 22.18   GEN      version_git.h
#19 22.18   CC       version.o
#19 22.20   CCLD     tincd
#19 22.30   CCLD     tinc
#19 22.40 make[2]: Entering directory '/build/src'
#19 22.40   GEN      version_git.h
#19 22.41   CC       version.o
#19 22.43   CCLD     tincd
#19 22.53   CCLD     tinc
#19 22.62  /usr/bin/mkdir -p '/usr/sbin'
#19 22.62   /usr/bin/install -c tincd tinc '/usr/sbin'
#19 22.63 make[2]: Nothing to be done for 'install-data-am'.
#19 22.63 make[2]: Leaving directory '/build/src'
#19 22.63 make[1]: Leaving directory '/build/src'
#19 22.63 Making install in doc
#19 22.63 make[1]: Entering directory '/build/doc'
#19 22.63 make[2]: Entering directory '/build/doc'
#19 22.63 make[2]: Nothing to be done for 'install-exec-am'.
#19 22.64  /usr/bin/mkdir -p '/usr/share/info'
#19 22.64  /usr/bin/install -c -m 644 ./tinc.info '/usr/share/info'
#19 22.65  /usr/bin/mkdir -p '/usr/share/man/man5'
#19 22.65  /usr/bin/install -c -m 644 tinc.conf.5 '/usr/share/man/man5'
#19 22.66  /usr/bin/mkdir -p '/usr/share/man/man8'
#19 22.66  /usr/bin/install -c -m 644 tincd.8 tinc.8 tinc-gui.8 '/usr/share/man/man8'
#19 22.66 make[2]: Leaving directory '/build/doc'
#19 22.66 make[1]: Leaving directory '/build/doc'
#19 22.66 Making install in test
#19 22.67 make[1]: Entering directory '/build/test'
#19 22.67 make[2]: Entering directory '/build/test'
#19 22.67 make[2]: Nothing to be done for 'install-exec-am'.
#19 22.67 make[2]: Nothing to be done for 'install-data-am'.
#19 22.67 make[2]: Leaving directory '/build/test'
#19 22.67 make[1]: Leaving directory '/build/test'
#19 22.67 Making install in systemd
#19 22.67 make[1]: Entering directory '/build/systemd'
#19 22.67 make[2]: Entering directory '/build/systemd'
#19 22.67 make[2]: Nothing to be done for 'install-exec-am'.
#19 22.68 make[2]: Leaving directory '/build/systemd'
#19 22.68 make[1]: Leaving directory '/build/systemd'
#19 22.68 Making install in bash_completion.d
#19 22.68 make[1]: Entering directory '/build/bash_completion.d'
#19 22.68 make[2]: Entering directory '/build/bash_completion.d'
#19 22.68 make[2]: Nothing to be done for 'install-exec-am'.
#19 22.68  /usr/bin/mkdir -p '/usr/share/bash-completion/completions/'
#19 22.69  /usr/bin/install -c -m 644 tinc '/usr/share/bash-completion/completions/'
#19 22.69 make[2]: Leaving directory '/build/bash_completion.d'
#19 22.69 make[1]: Leaving directory '/build/bash_completion.d'
#19 22.69 make[1]: Entering directory '/build'
#19 22.70 make[2]: Entering directory '/build'
#19 22.70 make[2]: Nothing to be done for 'install-exec-am'.
#19 22.70 make[2]: Nothing to be done for 'install-data-am'.
#19 22.70 make[2]: Leaving directory '/build'
#19 22.70 make[1]: Leaving directory '/build'
#19 DONE 22.7s

#20 [node1 runtime 2/9] RUN apt-get update && apt-get install -y     libssl3     zlib1g     liblzo2-2     libncurses6     libreadline8     net-tools     iproute2     iputils-ping     && rm -rf /var/lib/apt/lists/*
#20 CACHED

#21 [node1 runtime 3/9] COPY --from=quiche-builder /build/deps/quiche/target/release/libquiche.so /usr/lib/
#21 CACHED

#22 [node1 runtime 4/9] COPY --from=tinc-builder /usr/sbin/tincd /usr/sbin/
#22 DONE 0.1s

#23 [node1 runtime 5/9] COPY --from=tinc-builder /usr/sbin/tinc /usr/sbin/
#23 DONE 0.0s

#24 [node1 runtime 6/9] RUN ldconfig
#24 DONE 0.4s

#25 [node1 runtime 7/9] RUN mkdir -p /etc/tinc /var/run /var/log
#25 DONE 0.5s

#26 [node1 runtime 8/9] COPY docker/scripts/entrypoint.sh /entrypoint.sh
#26 DONE 0.1s

#27 [node1 runtime 9/9] RUN chmod +x /entrypoint.sh
#27 DONE 0.3s

#28 [node1] exporting to image
#28 exporting layers 0.1s done
#28 writing image sha256:b19497e49b6689abd7865e6d30a206d3f16fdc18e49a7a58b68f0e89fa2969d4 done
#28 naming to docker.io/library/tinc-vless:latest done
#28 DONE 0.1s

#29 [node1] resolving provenance for metadata file
#29 DONE 0.0s

=== Restarting containers ===

=== Container status ===
CONTAINER ID   IMAGE               COMMAND                  CREATED         STATUS                  PORTS                                       NAMES
8872d6181626   tinc-vless:latest   "/entrypoint.sh tinc…"   1 second ago    Up Less than a second   0.0.0.0:6553->443/tcp, [::]:6553->443/tcp   tinc-node3
002b1e56f6f3   tinc-vless:latest   "/entrypoint.sh tinc…"   1 second ago    Up Less than a second   0.0.0.0:6552->443/tcp, [::]:6552->443/tcp   tinc-node2
daf142bdef7b   tinc-vless:latest   "/entrypoint.sh tinc…"   2 seconds ago   Up Less than a second   0.0.0.0:6551->443/tcp, [::]:6551->443/tcp   tinc-node1

=== Waiting 3 seconds for containers to initialize ===

==========================================
NETWORK INFORMATION
==========================================

--- node1 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.1/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::80f1:2466:38ac:14f5/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.1.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.1 
172.25.1.0/24 dev eth0 proto kernel scope link src 172.25.1.10 
172.25.2.0/24 dev eth1 proto kernel scope link src 172.25.2.10 

--- node2 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.2/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::780f:16c1:86f1:c646/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.1.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.2 
172.25.1.0/24 dev eth0 proto kernel scope link src 172.25.1.11 

--- node3 network ---
2: tinc0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 500
    link/none 
    inet 10.0.0.3/24 scope global tinc0
       valid_lft forever preferred_lft forever
    inet6 fe80::c90f:be72:6024:7b9c/64 scope link stable-privacy 
       valid_lft forever preferred_lft forever
default via 172.25.2.1 dev eth0 
10.0.0.0/24 dev tinc0 proto kernel scope link src 10.0.0.3 
172.25.2.0/24 dev eth0 proto kernel scope link src 172.25.2.12 

==========================================
CONNECTIVITY TESTS
==========================================

--- node1 -> node2 (10.0.0.2) ---
PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
From 10.0.0.2 icmp_seq=1 Destination Net Unknown
From 10.0.0.2 icmp_seq=2 Destination Net Unknown

--- 10.0.0.2 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1099ms

FAILED

--- node1 -> node3 (10.0.0.3) ---
PING 10.0.0.3 (10.0.0.3) 56(84) bytes of data.
From 10.0.0.3 icmp_seq=1 Destination Net Unknown
From 10.0.0.3 icmp_seq=2 Destination Net Unknown

--- 10.0.0.3 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1085ms

FAILED

--- node2 -> node1 (10.0.0.1) ---
PING 10.0.0.1 (10.0.0.1) 56(84) bytes of data.
From 10.0.0.1 icmp_seq=1 Destination Net Unknown
From 10.0.0.1 icmp_seq=2 Destination Net Unknown

--- 10.0.0.1 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1111ms

FAILED

--- node2 -> node3 (10.0.0.3) ---
PING 10.0.0.3 (10.0.0.3) 56(84) bytes of data.
From 10.0.0.3 icmp_seq=1 Destination Net Unknown
From 10.0.0.3 icmp_seq=2 Destination Net Unknown

--- 10.0.0.3 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1083ms

FAILED

--- node3 -> node1 (10.0.0.1) ---
PING 10.0.0.1 (10.0.0.1) 56(84) bytes of data.
From 10.0.0.1 icmp_seq=1 Destination Net Unknown
From 10.0.0.1 icmp_seq=2 Destination Net Unknown

--- 10.0.0.1 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1084ms

FAILED

--- node3 -> node2 (10.0.0.2) ---
PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
From 10.0.0.2 icmp_seq=1 Destination Net Unknown
From 10.0.0.2 icmp_seq=2 Destination Net Unknown

--- 10.0.0.2 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 1076ms

FAILED

==========================================
TINC STATE DUMPS
==========================================

--- node1 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node1 via node1 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
node2 id 641dda6330a1 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node3 id 50a8891922e7 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
=== Connections ===
node3 at 172.25.2.12 port 443 options 0 socket 0 status 300000
node3 at 172.25.2.12 port 443 options 0 socket 14 status 180000
node2 at 172.25.1.11 port 443 options 0 socket 0 status 300000
node2 at 172.25.1.11 port 443 options 0 socket 15 status 180000
<control> at localhost port unix options 0 socket 16 status 200
=== Edges ===

--- node2 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node2 id 641dda6330a1 at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node2 via node2 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
node3 id 50a8891922e7 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
=== Connections ===
(null) at 172.25.1.10 port 443 options 0 socket 0 status 180000
<control> at localhost port unix options 0 socket 14 status 200
=== Edges ===

--- node3 tinc dump ---
=== Nodes ===
node1 id 79ae6db0921b at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node2 id 641dda6330a1 at unknown port unknown cipher 0 digest 0 maclength 0 compression 0 options 0 status 0800 nexthop - via - distance 0 pmtu 1518 (min 0 max 1518) rx 0 0 tx 0 0
node3 id 50a8891922e7 at MYSELF port 443 cipher 0 digest 0 maclength 0 compression 0 options 700000c status 0850 nexthop node3 via node3 distance 0 pmtu 1518 (min 0 max 1518) rx 6 516 tx 4 504
=== Connections ===
(null) at 172.25.2.10 port 443 options 0 socket 0 status 180000
<control> at localhost port unix options 0 socket 14 status 200
=== Edges ===

==========================================
DETAILED LOGS (QUIC HANDSHAKE FOCUS)
==========================================

=== NODE1 LOGS ===
--- QUIC Initialization ---
QUIC[3837663835653331336435383035343234653863626662306238376633383533] handshake complete, ALPN='h3'
quiche: quiche: 87f85e313d5805424e8cbfb0b87f3853 tx pkt Handshake version=1 dcid=aad7b11cca08636076c7e24a0d0009c7 scid=87f85e313d5805424e8cbfb0b87f3853 len=45 pn=3 
quiche: quiche: 87f85e313d5805424e8cbfb0b87f3853 tx frm ACK delay=40 blocks=[1..2] ecn_counts=None
quiche: quiche: 87f85e313d5805424e8cbfb0b87f3853 tx frm CRYPTO off=0 len=36
quiche: quiche::recovery::congestion::recovery: 87f85e313d5805424e8cbfb0b87f3853 timer=5.112894ms latest_rtt=1.713751ms srtt=1.713751ms min_rtt=1.713751ms rttvar=856.875µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=103 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 749676, tv_nsec: 801360511 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 801360511 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.40 Mbps, is_app_limited: true, interval: 1.713751ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 799053002 }), send_elapsed: 0ns, ack_elapsed: 1.713751ms, rtt: 1.713751ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 9846821, last_update: Instant { tv_sec: 749676, tv_nsec: 802097988 }, next_time: Instant { tv_sec: 749676, tv_nsec: 801360511 }, max_datagram_size: 1350, last_packet_size: None, iv: 10.46µs, max_pacing_
QUIC[3837663835653331336435383035343234653863626662306238376633383533] send: 103 bytes to 172.25.1.11:443 via fd=6 (first=0xe3)
QUIC[3837663835653331336435383035343234653863626662306238376633383533] sendto OK: 103 bytes
QUIC[3837663835653331336435383035343234653863626662306238376633383533] sent 1 packets, 103 bytes total
QUIC state check for node2: established=1, connection=0x5b702ef5a5c0, quic_meta=1, quic_stream_id=-1, outgoing=(nil), initiated=0
QUIC handshake complete for node2, initiating metadata protocol
Created QUIC meta stream 0 for client
Created client QUIC meta stream 0 for node2 after handshake
QUIC connection, skipping VLESS (already encrypted with TLS 1.3)
Looking up QUIC connection for node node2 at address 172.25.1.11 port 443 (sa_family=2)
Found existing QUIC connection for node node2
QUIC meta: flushing 13 bytes from outbuf via stream 0 (handshake_complete=1)
Sent 13 bytes on QUIC meta stream 0
QUIC meta: sent 13 bytes on stream 0, calling quic_conn_send
quiche: quiche: 87f85e313d5805424e8cbfb0b87f3853 tx pkt Short dcid=aad7b11cca08636076c7e24a0d0009c7 key_phase=false len=18 pn=4 
quiche: quiche: 87f85e313d5805424e8cbfb0b87f3853 tx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche::recovery::congestion::recovery: 87f85e313d5805424e8cbfb0b87f3853 timer=4.721134ms latest_rtt=1.713751ms srtt=1.713751ms min_rtt=1.713751ms rttvar=856.875µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=155 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 749676, tv_nsec: 801360511 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 801360511 }, end_of_app_limited: 3, last_sent_packet: 4, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.40 Mbps, is_app_limited: true, interval: 1.713751ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 799053002 }), send_elapsed: 0ns, ack_elapsed: 1.713751ms, rtt: 1.713751ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 52, rate: 9846821, last_update: Instant { tv_sec: 749676, tv_nsec: 802097988 }, next_time: Instant { tv_sec: 749676, tv_nsec: 802289795 }, max_datagram_size: 1350, last_packet_size: Some(52), iv: 0ns, max_pacing_
QUIC[3837663835653331336435383035343234653863626662306238376633383533] send: 52 bytes to 172.25.1.11:443 via fd=6 (first=0x56)
QUIC[3837663835653331336435383035343234653863626662306238376633383533] sendto OK: 52 bytes
QUIC[3837663835653331336435383035343234653863626662306238376633383533] sent 1 packets, 52 bytes total
QUIC packet processed: qconn->node=0x5b702eebb480
QUIC node found: name=node2, connection=0x5b702ef5a5c0
QUIC checking connection: name=node2, quic_meta=1, quic_stream_id=0, outgoing=(nil)
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=435 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=0313a7fd23b06b42ceee57033908416e (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3033313361376664323362303662343263656565353730333339303834313665] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
Detected QUIC Short Header packet: first_byte=0x50
QUIC demux: received UDP len=39 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=be1feb0408da2cb098d4eef8a5cca6b9 (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[6265316665623034303864613263623039386434656566386135636361366239] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
Detected QUIC Short Header packet: first_byte=0x54

--- Errors & Warnings ---
QUIC[3531623166313931653836633865356462643635653330363962336436613930] recv failed: -3
Failed to process Initial packet: -1
QUIC[3631343031306165646433666665633634356633623963326138623962626333] recv failed: -3
Failed to process Initial packet: -1
QUIC[6333386632383735666232663538363433373236616531396164383733393330] recv failed: -3
Failed to process Initial packet: -1
QUIC[3333313363653534666436666332353064663332633132633165656238653333] recv failed: -3
Failed to process Initial packet: -1
QUIC[3435396562313530376633613032613231623165376432663938633164336339] recv failed: -3
Failed to process Initial packet: -1
QUIC[3466303464356337323133323639326565363838373165636663306134313666] recv failed: -3
Failed to process Initial packet: -1
QUIC[3033313361376664323362303662343263656565353730333339303834313665] recv failed: -3
Failed to process Initial packet: -1
QUIC[6265316665623034303864613263623039386434656566386135636361366239] recv failed: -3
Failed to process Initial packet: -1

=== NODE2 LOGS ===
--- QUIC Initialization ---
Detected QUIC Long Header packet: first_byte=0xc0
QUIC demux: received UDP len=103 from 172.25.1.10:443
Parsed QUIC header: type=3 version=0x1 DCID=aad7b11cca08636076c7e24a0d0009c7 (len=16) SCID=87f85e313d5805424e8cbfb0b87f3853 (len=16)
lookup_connection_by_id() called for CID=aad7b11cca08636076c7e24a0d0009c7 (len=16)
Total registered CIDs in map: 9
lookup_connection_by_id() - FOUND connection for CID=aad7b11cca08636076c7e24a0d0009c7
CID lookup SUCCESS: Found connection for DCID=aad7b11cca08636076c7e24a0d0009c7
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 rx pkt Handshake version=1 dcid=aad7b11cca08636076c7e24a0d0009c7 scid=87f85e313d5805424e8cbfb0b87f3853 len=62 pn=3 
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 rx frm ACK delay=40 blocks=[1..2] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: aad7b11cca08636076c7e24a0d0009c7 packet newly acked 2
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 rx frm CRYPTO off=0 len=36
quiche: quiche::tls: aad7b11cca08636076c7e24a0d0009c7 set read secret lvl=OneRTT
quiche: quiche::tls: aad7b11cca08636076c7e24a0d0009c7 write message lvl=OneRTT len=396
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 dropped epoch 1 state
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 connection established: proto=Ok("h3") cipher=Some(AES128_GCM) curve=Some("X25519") sigalg=None resumed=false TransportParams { original_destination_connection_id: None, max_idle_timeout: 30000, stateless_reset_token: None, max_udp_payload_size: 1350, initial_max_data: 10485760, initial_max_stream_data_bidi_local: 6291456, initial_max_stream_data_bidi_remote: 6291456, initial_max_stream_data_uni: 6291456, initial_max_streams_bidi: 100, initial_max_streams_uni: 3, ack_delay_exponent: 3, max_ack_delay: 25, disable_active_migration: true, active_conn_id_limit: 2, initial_source_connection_id: Some(87f85e313d5805424e8cbfb0b87f3853), retry_source_connection_id: None, max_datagram_frame_size: None, unknown_params: None }
QUIC[6161643762313163636130383633363037366337653234613064303030396337] handshake complete, ALPN='h3'
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 tx pkt Short dcid=87f85e313d5805424e8cbfb0b87f3853 key_phase=false len=401 pn=3 
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 tx frm HANDSHAKE_DONE
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 tx frm CRYPTO off=0 len=396
quiche: quiche::recovery::congestion::recovery: aad7b11cca08636076c7e24a0d0009c7 timer=27.544612ms latest_rtt=1.54233ms srtt=1.191621ms min_rtt=1.184654ms rttvar=345.829µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 2, rate_sample: RateSample { bandwidth: 7.96 Mbps, is_app_limited: true, interval: 1.660122ms, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 800551642 }), send_elapsed: 117.792µs, ack_elapsed: 1.660122ms, rtt: 1.54233ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 435, rate: 14161381, last_update: Instant { tv_sec: 749676, tv_nsec: 802767349 }, next_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, max_datagram_size: 1350, last_packet_size: Some(435), iv: 0ns, 
QUIC[6161643762313163636130383633363037366337653234613064303030396337] send: 435 bytes to 172.25.1.10:443 via fd=6 (first=0x50)
QUIC[6161643762313163636130383633363037366337653234613064303030396337] sendto OK: 435 bytes
QUIC[6161643762313163636130383633363037366337653234613064303030396337] sent 1 packets, 435 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
Created connection_t for unbound incoming QUIC from 172.25.1.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=52 from 172.25.1.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 rx pkt Short dcid=aad7b11cca08636076c7e24a0d0009c7 key_phase=false len=35 pn=4 
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 tx pkt Short dcid=87f85e313d5805424e8cbfb0b87f3853 key_phase=false len=5 pn=4 
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 tx frm ACK delay=7 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: aad7b11cca08636076c7e24a0d0009c7 timer=27.122306ms latest_rtt=1.54233ms srtt=1.191621ms min_rtt=1.184654ms rttvar=345.829µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 7.96 Mbps, is_app_limited: true, interval: 1.660122ms, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 800551642 }), send_elapsed: 117.792µs, ack_elapsed: 1.660122ms, rtt: 1.54233ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 14161381, last_update: Instant { tv_sec: 749676, tv_nsec: 803130712 }, next_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, max_datagram_size: 1350, last_packet_size: None, iv: 30.717µs, m
QUIC[6161643762313163636130383633363037366337653234613064303030396337] send: 39 bytes to 172.25.1.10:443 via fd=6 (first=0x54)
QUIC[6161643762313163636130383633363037366337653234613064303030396337] sendto OK: 39 bytes
QUIC[6161643762313163636130383633363037366337653234613064303030396337] sent 1 packets, 39 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
QUIC packet processed: qconn->node=(nil)
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
Detected QUIC Short Header packet: first_byte=0x40
Looking up QUIC connection for node node1 at address 172.25.1.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing
Looking up QUIC connection for node node3 at address 172.25.2.12 port 443 (sa_family=2)
Found existing QUIC connection for node node3
QUIC connection to node3 already exists, reusing

--- Errors & Warnings ---
QUIC[3836376433323065636265653731663738336231323263363835353935616566] recv failed: -3
Failed to process Initial packet: -1
QUIC[3536646261353033376261616536393339306134356239643938663139643238] recv failed: -3
Failed to process Initial packet: -1

=== NODE3 LOGS ===
--- QUIC Initialization ---
Detected QUIC Long Header packet: first_byte=0xc0
QUIC demux: received UDP len=103 from 172.25.2.10:443
Parsed QUIC header: type=3 version=0x1 DCID=a2384e38d1ea2c94744b2bd8c7638f9e (len=16) SCID=355e1f1ec7a8a523731a74de9f48a3a4 (len=16)
lookup_connection_by_id() called for CID=a2384e38d1ea2c94744b2bd8c7638f9e (len=16)
Total registered CIDs in map: 9
lookup_connection_by_id() - FOUND connection for CID=a2384e38d1ea2c94744b2bd8c7638f9e
CID lookup SUCCESS: Found connection for DCID=a2384e38d1ea2c94744b2bd8c7638f9e
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e rx pkt Handshake version=1 dcid=a2384e38d1ea2c94744b2bd8c7638f9e scid=355e1f1ec7a8a523731a74de9f48a3a4 len=62 pn=3 
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e rx frm ACK delay=62 blocks=[1..2] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: a2384e38d1ea2c94744b2bd8c7638f9e packet newly acked 2
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e rx frm CRYPTO off=0 len=36
quiche: quiche::tls: a2384e38d1ea2c94744b2bd8c7638f9e set read secret lvl=OneRTT
quiche: quiche::tls: a2384e38d1ea2c94744b2bd8c7638f9e write message lvl=OneRTT len=396
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e dropped epoch 1 state
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e connection established: proto=Ok("h3") cipher=Some(AES128_GCM) curve=Some("X25519") sigalg=None resumed=false TransportParams { original_destination_connection_id: None, max_idle_timeout: 30000, stateless_reset_token: None, max_udp_payload_size: 1350, initial_max_data: 10485760, initial_max_stream_data_bidi_local: 6291456, initial_max_stream_data_bidi_remote: 6291456, initial_max_stream_data_uni: 6291456, initial_max_streams_bidi: 100, initial_max_streams_uni: 3, ack_delay_exponent: 3, max_ack_delay: 25, disable_active_migration: true, active_conn_id_limit: 2, initial_source_connection_id: Some(355e1f1ec7a8a523731a74de9f48a3a4), retry_source_connection_id: None, max_datagram_frame_size: None, unknown_params: None }
QUIC[6132333834653338643165613263393437343462326264386337363338663965] handshake complete, ALPN='h3'
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e tx pkt Short dcid=355e1f1ec7a8a523731a74de9f48a3a4 key_phase=false len=401 pn=3 
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e tx frm HANDSHAKE_DONE
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e tx frm CRYPTO off=0 len=396
quiche: quiche::recovery::congestion::recovery: a2384e38d1ea2c94744b2bd8c7638f9e timer=26.598914ms latest_rtt=974.921µs srtt=566.683µs min_rtt=506.712µs rttvar=261.63µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 749676, tv_nsec: 787132226 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 787132226 }, end_of_app_limited: 2, last_sent_packet: 3, largest_acked: 2, rate_sample: RateSample { bandwidth: 18.46 Mbps, is_app_limited: true, interval: 1.130556ms, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 785924285 }), send_elapsed: 155.635µs, ack_elapsed: 1.130556ms, rtt: 974.921µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 435, rate: 29778553, last_update: Instant { tv_sec: 749676, tv_nsec: 787132226 }, next_time: Instant { tv_sec: 749676, tv_nsec: 787132226 }, max_datagram_size: 1350, last_packet_size: Some(435), iv: 0ns
QUIC[6132333834653338643165613263393437343462326264386337363338663965] send: 435 bytes to 172.25.2.10:443 via fd=6 (first=0x5c)
QUIC[6132333834653338643165613263393437343462326264386337363338663965] sendto OK: 435 bytes
QUIC[6132333834653338643165613263393437343462326264386337363338663965] sent 1 packets, 435 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
Created connection_t for unbound incoming QUIC from 172.25.2.10 port 443, waiting for client stream and ID message
QUIC packet processed: qconn->node=(nil)
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
Detected QUIC Long Header packet: first_byte=0xe0
QUIC demux: received UDP len=52 from 172.25.2.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e rx pkt Short dcid=a2384e38d1ea2c94744b2bd8c7638f9e key_phase=false len=35 pn=4 
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e tx pkt Short dcid=355e1f1ec7a8a523731a74de9f48a3a4 key_phase=false len=5 pn=4 
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e tx frm ACK delay=3 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: a2384e38d1ea2c94744b2bd8c7638f9e timer=25.781623ms latest_rtt=974.921µs srtt=566.683µs min_rtt=506.712µs rttvar=261.63µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 749676, tv_nsec: 787132226 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 787132226 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 18.46 Mbps, is_app_limited: true, interval: 1.130556ms, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 785924285 }), send_elapsed: 155.635µs, ack_elapsed: 1.130556ms, rtt: 974.921µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 29778553, last_update: Instant { tv_sec: 749676, tv_nsec: 787930756 }, next_time: Instant { tv_sec: 749676, tv_nsec: 787930756 }, max_datagram_size: 1350, last_packet_size: Some(0), iv: 0ns, ma
QUIC[6132333834653338643165613263393437343462326264386337363338663965] send: 39 bytes to 172.25.2.10:443 via fd=6 (first=0x50)
QUIC[6132333834653338643165613263393437343462326264386337363338663965] sendto OK: 39 bytes
QUIC[6132333834653338643165613263393437343462326264386337363338663965] sent 1 packets, 39 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
QUIC packet processed: qconn->node=(nil)
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
Detected QUIC Short Header packet: first_byte=0x40
Looking up QUIC connection for node node1 at address 172.25.2.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing
Looking up QUIC connection for node node2 at address 172.25.1.11 port 443 (sa_family=2)
Found existing QUIC connection for node node2
QUIC connection to node2 already exists, reusing

--- Errors & Warnings ---
QUIC[6137383237383039386462326466643235343434343631636335663234383064] recv failed: -3
Failed to process Initial packet: -1
QUIC[6230346534303332363264363133613339306638333237363436363433343065] recv failed: -3
Failed to process Initial packet: -1

==========================================
FULL LOGS (LAST 100 LINES EACH)
==========================================

=== NODE1 FULL LOG ===
QUIC meta: flushing 13 bytes from outbuf via stream 0 (handshake_complete=1)
Sent 13 bytes on QUIC meta stream 0
QUIC meta: sent 13 bytes on stream 0, calling quic_conn_send
quiche: quiche: 87f85e313d5805424e8cbfb0b87f3853 tx pkt Short dcid=aad7b11cca08636076c7e24a0d0009c7 key_phase=false len=18 pn=4 
quiche: quiche: 87f85e313d5805424e8cbfb0b87f3853 tx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche::recovery::congestion::recovery: 87f85e313d5805424e8cbfb0b87f3853 timer=4.721134ms latest_rtt=1.713751ms srtt=1.713751ms min_rtt=1.713751ms rttvar=856.875µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=155 app_limited=true congestion_recovery_start_time=None Rate { delivered: 299, delivered_time: Instant { tv_sec: 749676, tv_nsec: 801360511 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 801360511 }, end_of_app_limited: 3, last_sent_packet: 4, largest_acked: 0, rate_sample: RateSample { bandwidth: 1.40 Mbps, is_app_limited: true, interval: 1.713751ms, delivered: 299, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 799053002 }), send_elapsed: 0ns, ack_elapsed: 1.713751ms, rtt: 1.713751ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 52, rate: 9846821, last_update: Instant { tv_sec: 749676, tv_nsec: 802097988 }, next_time: Instant { tv_sec: 749676, tv_nsec: 802289795 }, max_datagram_size: 1350, last_packet_size: Some(52), iv: 0ns, max_pacing_
QUIC[3837663835653331336435383035343234653863626662306238376633383533] send: 52 bytes to 172.25.1.11:443 via fd=6 (first=0x56)
QUIC[3837663835653331336435383035343234653863626662306238376633383533] sendto OK: 52 bytes
QUIC[3837663835653331336435383035343234653863626662306238376633383533] sent 1 packets, 52 bytes total
QUIC packet processed: qconn->node=0x5b702eebb480
QUIC node found: name=node2, connection=0x5b702ef5a5c0
QUIC checking connection: name=node2, quic_meta=1, quic_stream_id=0, outgoing=(nil)
quic_transport_is_enabled() = 1 (quic_manager=0x5b702eebabc0, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x5b702eebabc0, enabled=1)
QUIC demux: received UDP len=435 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=0313a7fd23b06b42ceee57033908416e (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[3033313361376664323362303662343263656565353730333339303834313665] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
quic_transport_is_enabled() = 1 (quic_manager=0x5b702eebabc0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x50
quic_transport_is_enabled() = 1 (quic_manager=0x5b702eebabc0, enabled=1)
QUIC demux: received UDP len=39 from 172.25.1.11:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Received QUIC packet from unknown source: type=5 version=0x0
Accepted QUIC server connection
Registered CID=be1feb0408da2cb098d4eef8a5cca6b9 (len=16) for demultiplexing
Registered our SCID (len=16)
Created QUIC server connection for new client
QUIC[6265316665623034303864613263623039386434656566386135636361366239] recv failed: -3
Failed to process Initial packet: -1
Freed QUIC connection
quic_transport_is_enabled() = 1 (quic_manager=0x5b702eebabc0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x54
Connection from localhost port unix
receive_request: conn=0x5b702ef6eec0 quic_meta=0 allow=0 raw='0 ^902A8771F12917EDCA0D5C2851FF5B167C97DDEB99AD6A6169E4EC8FB0ED4B4E 0'
Got ID from <control> (localhost port unix): 0 ^902A8771F12917EDCA0D5C2851FF5B167C97DDEB99AD6A6169E4EC8FB0ED4B4E 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5b702ef6eec0 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b MYSELF port 443 0 0 0 0 700000c 850 node1 node1 0 1518 0 1518 1762893464 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5b702ef6f840 quic_meta=0 allow=0 raw='0 ^902A8771F12917EDCA0D5C2851FF5B167C97DDEB99AD6A6169E4EC8FB0ED4B4E 0'
Got ID from <control> (localhost port unix): 0 ^902A8771F12917EDCA0D5C2851FF5B167C97DDEB99AD6A6169E4EC8FB0ED4B4E 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5b702ef6f840 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 node3 172.25.2.12 port 443 0 0 300000
Sending 43 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node3 172.25.2.12 port 443 0 14 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node2 172.25.1.11 port 443 0 0 300000
Sending 43 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 node2 172.25.1.11 port 443 0 15 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 16 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5b702ef6f840 quic_meta=0 allow=0 raw='0 ^902A8771F12917EDCA0D5C2851FF5B167C97DDEB99AD6A6169E4EC8FB0ED4B4E 0'
Got ID from <control> (localhost port unix): 0 ^902A8771F12917EDCA0D5C2851FF5B167C97DDEB99AD6A6169E4EC8FB0ED4B4E 0
Sending ID to <control> (localhost port unix): 0 node1 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5b702ef6f840 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)

=== NODE2 FULL LOG ===
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
Found unbound connection for peer: hostname=172.25.1.10 port 443, quic_stream_id=-1
Attempting stream discovery for unbound peer 172.25.1.10 port 443
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
quic_transport_is_enabled() = 1 (quic_manager=0x5b118811aae0, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x5b118811aae0, enabled=1)
QUIC demux: received UDP len=52 from 172.25.1.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Found connection by peer address fallback
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 rx pkt Short dcid=aad7b11cca08636076c7e24a0d0009c7 key_phase=false len=35 pn=4 
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 tx pkt Short dcid=87f85e313d5805424e8cbfb0b87f3853 key_phase=false len=5 pn=4 
quiche: quiche: aad7b11cca08636076c7e24a0d0009c7 tx frm ACK delay=7 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: aad7b11cca08636076c7e24a0d0009c7 timer=27.122306ms latest_rtt=1.54233ms srtt=1.191621ms min_rtt=1.184654ms rttvar=345.829µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 7.96 Mbps, is_app_limited: true, interval: 1.660122ms, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 800551642 }), send_elapsed: 117.792µs, ack_elapsed: 1.660122ms, rtt: 1.54233ms } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 14161381, last_update: Instant { tv_sec: 749676, tv_nsec: 803130712 }, next_time: Instant { tv_sec: 749676, tv_nsec: 802767349 }, max_datagram_size: 1350, last_packet_size: None, iv: 30.717µs, m
QUIC[6161643762313163636130383633363037366337653234613064303030396337] send: 39 bytes to 172.25.1.10:443 via fd=6 (first=0x54)
QUIC[6161643762313163636130383633363037366337653234613064303030396337] sendto OK: 39 bytes
QUIC[6161643762313163636130383633363037366337653234613064303030396337] sent 1 packets, 39 bytes total
Server connection established from 172.25.1.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
Unbound connection already exists for 172.25.1.10 port 443, skipping duplicate creation
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.1.10 port 443
  [1] c->hostname=172.25.1.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.1.10 port 443
Found unbound connection for peer: hostname=172.25.1.10 port 443, quic_stream_id=-1
Attempting stream discovery for unbound peer 172.25.1.10 port 443
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
quic_transport_is_enabled() = 1 (quic_manager=0x5b118811aae0, enabled=1)
Detected QUIC Short Header packet: first_byte=0x40
Trying to connect to node1 (172.25.1.10 port 443)
Looking up QUIC connection for node node1 at address 172.25.1.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing
Trying to connect to node3 (172.25.2.12 port 443)
Looking up QUIC connection for node node3 at address 172.25.2.12 port 443 (sa_family=2)
Found existing QUIC connection for node node3
QUIC connection to node3 already exists, reusing
Connection from localhost port unix
receive_request: conn=0x5b1188188b20 quic_meta=0 allow=0 raw='0 ^6BF2E6D51DBB910CC6C36416B52B8D04400E92BF76827EC1B6A9807E0372EC6A 0'
Got ID from <control> (localhost port unix): 0 ^6BF2E6D51DBB910CC6C36416B52B8D04400E92BF76827EC1B6A9807E0372EC6A 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5b1188188b20 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 MYSELF port 443 0 0 0 0 700000c 850 node2 node2 0 1518 0 1518 1762893465 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5b1188188b20 quic_meta=0 allow=0 raw='0 ^6BF2E6D51DBB910CC6C36416B52B8D04400E92BF76827EC1B6A9807E0372EC6A 0'
Got ID from <control> (localhost port unix): 0 ^6BF2E6D51DBB910CC6C36416B52B8D04400E92BF76827EC1B6A9807E0372EC6A 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5b1188188b20 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 (null) 172.25.1.10 port 443 0 0 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 14 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5b1188188b20 quic_meta=0 allow=0 raw='0 ^6BF2E6D51DBB910CC6C36416B52B8D04400E92BF76827EC1B6A9807E0372EC6A 0'
Got ID from <control> (localhost port unix): 0 ^6BF2E6D51DBB910CC6C36416B52B8D04400E92BF76827EC1B6A9807E0372EC6A 0
Sending ID to <control> (localhost port unix): 0 node2 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5b1188188b20 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)

=== NODE3 FULL LOG ===
Found unbound connection for peer: hostname=172.25.2.10 port 443, quic_stream_id=-1
Attempting stream discovery for unbound peer 172.25.2.10 port 443
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
quic_transport_is_enabled() = 1 (quic_manager=0x5a292eda8750, enabled=1)
Detected QUIC Long Header packet: first_byte=0xe0
quic_transport_is_enabled() = 1 (quic_manager=0x5a292eda8750, enabled=1)
QUIC demux: received UDP len=52 from 172.25.2.10:443
Parsed QUIC header: type=5 version=0x0 DCID=<empty> (len=0) SCID=<empty> (len=0)
TRACE after parse: scid=<empty> scid_len=0
Found connection by peer address fallback
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e rx pkt Short dcid=a2384e38d1ea2c94744b2bd8c7638f9e key_phase=false len=35 pn=4 
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e rx frm STREAM id=0 off=0 len=13 fin=false
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e tx pkt Short dcid=355e1f1ec7a8a523731a74de9f48a3a4 key_phase=false len=5 pn=4 
quiche: quiche: a2384e38d1ea2c94744b2bd8c7638f9e tx frm ACK delay=3 blocks=[4..4] ecn_counts=None
quiche: quiche::recovery::congestion::recovery: a2384e38d1ea2c94744b2bd8c7638f9e timer=25.781623ms latest_rtt=974.921µs srtt=566.683µs min_rtt=506.712µs rttvar=261.63µs cwnd=13500 ssthresh=18446744073709551615 bytes_in_flight=435 app_limited=true congestion_recovery_start_time=None Rate { delivered: 1624, delivered_time: Instant { tv_sec: 749676, tv_nsec: 787132226 }, first_sent_time: Instant { tv_sec: 749676, tv_nsec: 787132226 }, end_of_app_limited: 2, last_sent_packet: 4, largest_acked: 2, rate_sample: RateSample { bandwidth: 18.46 Mbps, is_app_limited: true, interval: 1.130556ms, delivered: 1624, prior_delivered: 0, prior_time: Some(Instant { tv_sec: 749676, tv_nsec: 785924285 }), send_elapsed: 155.635µs, ack_elapsed: 1.130556ms, rtt: 974.921µs } } pacer=Pacer { enabled: true, capacity: 13500, used: 0, rate: 29778553, last_update: Instant { tv_sec: 749676, tv_nsec: 787930756 }, next_time: Instant { tv_sec: 749676, tv_nsec: 787930756 }, max_datagram_size: 1350, last_packet_size: Some(0), iv: 0ns, ma
QUIC[6132333834653338643165613263393437343462326264386337363338663965] send: 39 bytes to 172.25.2.10:443 via fd=6 (first=0x50)
QUIC[6132333834653338643165613263393437343462326264386337363338663965] sendto OK: 39 bytes
QUIC[6132333834653338643165613263393437343462326264386337363338663965] sent 1 packets, 39 bytes total
Server connection established from 172.25.2.10 port 443 (family=2), attempting to bind node
  Checking node 'node1': addr=unspec port unspec family=0
  Checking node 'node2': addr=unspec port unspec family=0
  Checking node 'node3': addr=unspec port unspec family=0
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
Unbound connection already exists for 172.25.2.10 port 443, skipping duplicate creation
QUIC packet processed: qconn->node=(nil)
find_unbound: looking for connection from 172.25.2.10 port 443
  [1] c->hostname=172.25.2.10 port 443 quic_meta=1 node=(nil)
find_unbound: FOUND match for 172.25.2.10 port 443
Found unbound connection for peer: hostname=172.25.2.10 port 443, quic_stream_id=-1
Attempting stream discovery for unbound peer 172.25.2.10 port 443
quiche_conn_readable returned non-NULL
quiche_stream_iter_next returned false - no readable streams
quic_transport_is_enabled() = 1 (quic_manager=0x5a292eda8750, enabled=1)
Detected QUIC Short Header packet: first_byte=0x40
Read packet of 98 bytes from Linux tun/tap device (tun mode)
Cannot route packet from node3 (MYSELF port 443): unknown IPv4 destination address 10.0.0.2
Writing packet of 126 bytes to Linux tun/tap device (tun mode)
Trying to connect to node1 (172.25.2.10 port 443)
Looking up QUIC connection for node node1 at address 172.25.2.10 port 443 (sa_family=2)
Found existing QUIC connection for node node1
QUIC connection to node1 already exists, reusing
Trying to connect to node2 (172.25.1.11 port 443)
Looking up QUIC connection for node node2 at address 172.25.1.11 port 443 (sa_family=2)
Found existing QUIC connection for node node2
QUIC connection to node2 already exists, reusing
Connection from localhost port unix
receive_request: conn=0x5a292ee16370 quic_meta=0 allow=0 raw='0 ^82C6053605BA663A9320AC8CAD2CB29AA51E69B703F45109A314F90053AB4E58 0'
Got ID from <control> (localhost port unix): 0 ^82C6053605BA663A9320AC8CAD2CB29AA51E69B703F45109A314F90053AB4E58 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5a292ee16370 quic_meta=0 allow=18 raw='18 3'
Got CONTROL from <control> (localhost port unix): 18 3
Sending CONTROL to <control> (localhost port unix): 18 3 node1 79ae6db0921b unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node2 641dda6330a1 unknown port unknown 0 0 0 0 0 800 - - 0 1518 0 1518 0 -1 0 0 0 0
Sending 90 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3 node3 50a8891922e7 MYSELF port 443 0 0 0 0 700000c 850 node3 node3 0 1518 0 1518 1762893465 -1 6 516 4 504
Sending 112 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 3
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5a292ee16370 quic_meta=0 allow=0 raw='0 ^82C6053605BA663A9320AC8CAD2CB29AA51E69B703F45109A314F90053AB4E58 0'
Got ID from <control> (localhost port unix): 0 ^82C6053605BA663A9320AC8CAD2CB29AA51E69B703F45109A314F90053AB4E58 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5a292ee16370 quic_meta=0 allow=18 raw='18 6'
Got CONTROL from <control> (localhost port unix): 18 6
Sending CONTROL to <control> (localhost port unix): 18 6 (null) 172.25.2.10 port 443 0 0 180000
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6 <control> localhost port unix 0 14 200
Sending 44 bytes of metadata to <control> (localhost port unix)
Sending CONTROL to <control> (localhost port unix): 18 6
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)
Connection from localhost port unix
receive_request: conn=0x5a292ee16370 quic_meta=0 allow=0 raw='0 ^82C6053605BA663A9320AC8CAD2CB29AA51E69B703F45109A314F90053AB4E58 0'
Got ID from <control> (localhost port unix): 0 ^82C6053605BA663A9320AC8CAD2CB29AA51E69B703F45109A314F90053AB4E58 0
Sending ID to <control> (localhost port unix): 0 node3 17.7
Sending 13 bytes of raw metadata to <control> (localhost port unix)
send_id: node=<control> host=localhost port unix quic_meta=0 ok=1
Sending ACK to <control> (localhost port unix): 4 0 1
Sending 6 bytes of metadata to <control> (localhost port unix)
receive_request: conn=0x5a292ee16370 quic_meta=0 allow=18 raw='18 4'
Got CONTROL from <control> (localhost port unix): 18 4
Sending CONTROL to <control> (localhost port unix): 18 4
Sending 5 bytes of metadata to <control> (localhost port unix)
Connection closed by <control> (localhost port unix)
Closing connection with <control> (localhost port unix)

===========================================
TEST COMPLETED - Tue Nov 11 23:37:55 MSK 2025
===========================================
